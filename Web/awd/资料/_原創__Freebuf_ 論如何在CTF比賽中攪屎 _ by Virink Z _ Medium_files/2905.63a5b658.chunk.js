(self.webpackChunklite=self.webpackChunklite||[]).push([[2905],{35930:(e,n,i)=>{"use strict";i.d(n,{Z:()=>o});var t=i(67294);function a(){return(a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t])}return e}).apply(this,arguments)}var l=t.createElement("path",{d:"M15.16 8c0 .65-.46 1.14-.86 1.57-.23.25-.47.5-.56.72-.1.22-.09.55-.1.88 0 .6-.01 1.3-.48 1.78-.48.48-1.16.5-1.75.5-.32 0-.65.01-.86.1-.2.07-.46.33-.7.57-.42.41-.9.88-1.54.88s-1.12-.47-1.54-.88a2.87 2.87 0 0 0-.7-.58c-.22-.09-.54-.08-.87-.09-.59 0-1.27-.02-1.74-.5s-.48-1.17-.49-1.78c0-.33-.01-.67-.1-.88-.07-.2-.32-.47-.55-.71-.4-.44-.87-.93-.87-1.58s.46-1.14.87-1.58c.23-.24.47-.5.56-.71.09-.22.08-.55.09-.88 0-.6.02-1.3.49-1.78s1.15-.5 1.74-.5c.33 0 .66-.01.86-.1.2-.08.47-.33.7-.57.43-.41.91-.88 1.55-.88.63 0 1.12.47 1.54.88.24.24.49.48.7.58.22.09.54.08.86.09.6 0 1.27.02 1.75.5.47.48.48 1.17.49 1.78 0 .33 0 .67.09.88.08.2.33.47.56.71.4.44.86.93.86 1.58z",fill:"#437AFF"}),r=t.createElement("path",{d:"M7.33 10.5c.2 0 .38.08.52.22.13.14.21.33.21.53 0 .07.03.13.07.18a.24.24 0 0 0 .35 0 .25.25 0 0 0 .07-.18c0-.2.08-.39.22-.53a.73.73 0 0 1 .52-.22h1.96c.13 0 .25-.05.34-.15a.5.5 0 0 0 .15-.35V6a.5.5 0 0 0-.15-.35.48.48 0 0 0-.34-.15H9.78c-.33 0-.64.13-.87.37-.23.23-.36.55-.36.88v2.5c0 .07-.02.13-.07.18a.24.24 0 0 1-.35 0 .25.25 0 0 1-.07-.18v-2.5c0-.33-.13-.65-.36-.88a1.21 1.21 0 0 0-.86-.37H5.37a.48.48 0 0 0-.35.15.5.5 0 0 0-.14.35v4c0 .13.05.26.14.35.1.1.22.15.35.15h1.96z",fill:"#fff"});const o=function(e){return t.createElement("svg",a({width:17,height:16,viewBox:"0 0 16 16",fill:"none"},e),l,r)}},65968:(e,n,i)=>{"use strict";i.d(n,{_:()=>A,G:()=>B});var t=i(67154),a=i.n(t),l=i(6479),r=i.n(l),o=i(67294),d=i(21417),s=i(77355),u=i(69992),c=i(30020),m=i(18634),k=i(87691),v=i(14646),f=i(86911),g=i(35930),p=i(64718),S=i(93310),E=i(20113),w=i(92661),F=i(43487),y=i(45932),b={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"BookVerificationTooltipQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userId"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userResult"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"userId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"authoredBooks"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"}}]}}]}}]}}]}}]},h={width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},N=function(){var e=(0,v.I)(),n=(0,y.P)();return o.createElement(s.x,{alignItems:"center",display:"flex",flexDirection:"column",width:"240px",padding:"24px",textAlign:"center",backgroundColor:"BACKGROUND"},o.createElement(s.x,{paddingBottom:"12px"},o.createElement(E.X6,{scale:"XS"},"Verified Book Author")),o.createElement("div",{className:e([function(){return n},h])},o.createElement(s.x,{width:"80%",height:"12px",marginBottom:"12px",backgroundColor:"BASE_NORMAL"}),o.createElement(s.x,{width:"80%",height:"12px",backgroundColor:"BASE_NORMAL"})))},x=function(e){var n,i=e.userId,t=(0,p.a)(b,{variables:{userId:i}}),a=t.data,l=t.loading,r=(0,F.v9)((function(e){return e.config.productName})),d=(0,w.H2)();if(l||"User"!==(null==a||null===(n=a.userResult)||void 0===n?void 0:n.__typename))return o.createElement(N,null);var u=a.userResult,c=u.name,m=u.authoredBooks,v=u.username,f=m?m.length:0;return o.createElement(s.x,{alignItems:"center",display:"flex",flexDirection:"column",width:"240px",padding:"24px",textAlign:"center"},o.createElement(E.X6,{scale:"XS"},"Verified Book Author"),o.createElement(s.x,{padding:"8px 0"},o.createElement(k.F,{scale:"M"},c," has ",f," verified ",f>1?"books":"book"," on ",r,".")),o.createElement(S.r,{href:d("ShowUserBooks",{username:v}),linkStyle:"OBVIOUS",target:"_blank"},o.createElement(k.F,{scale:"M",color:"ACCENT"},"See books")))},I=function(){return null},C=function(e){var n;switch(e.badgeSize){case"S":n=16;break;case"M":n=20;break;case"L":n=24}return o.createElement(g.Z,{height:n,width:n})},U=function(e){return{display:"flex",cursor:e?"pointer":"initial"}},A=function(e){var n=e.size,i=e.mobileSize,t=e.withText,a=e.withPointer,l=void 0!==a&&a,r=(0,v.I)();return o.createElement("div",{className:r(U(l))},o.createElement(s.x,{display:"flex",marginTop:t?"1px":void 0},i?o.createElement(o.Fragment,null,o.createElement(m.y,{xs:!0,displayValue:"flex"},o.createElement(C,{badgeSize:i})),o.createElement(m.y,{sm:!0,md:!0,lg:!0,xl:!0,displayValue:"flex"},o.createElement(C,{badgeSize:n}))):o.createElement(C,{badgeSize:n})),t&&o.createElement(s.x,{marginLeft:"5px"},o.createElement(k.F,{scale:"M"},o.createElement("span",{className:r({color:f.qi,fontWeight:500})},"Book Author"))))},B=function(e){var n=e.userId,i=e.marginBottom,t=e.marginLeft,l=e.marginRight,m=e.marginTop,k=e.alignSelf,v=r()(e,["userId","marginBottom","marginLeft","marginRight","marginTop","alignSelf"]),f=(0,o.useCallback)((function(){return o.createElement(x,{userId:n})}),[n]);return o.createElement(s.x,{marginTop:m,marginLeft:t,marginBottom:i,marginRight:l,display:"flex",alignSelf:k},o.createElement(d.b,{name:"enable_lite_publisher_infos_popover",placeholder:I},(function(e){return e?o.createElement(c._,{tooltipText:"Verified book author",targetDistance:15,placement:"bottom",display:"flex"},o.createElement(A,a()({},v,{withPointer:!0}))):o.createElement(u.$,{targetDistance:15,mouseLeaveDelay:100,popoverRenderFn:f,display:"flex"},o.createElement(A,v))})))}},71230:(e,n,i)=>{"use strict";i.d(n,{f:()=>d});var t=i(67294),a=i(18733),l=i(31889),r=i(98096),o=i(3207),d=function(e){var n=e.children,i=(0,l.F)(),d=(0,a.Uo)().baseTheme,s=(0,o.q3)(i,d);return t.createElement(r.f,{theme:s},n)}},98863:(e,n,i)=>{"use strict";i.d(n,{w:()=>a,f:()=>l});var t=i(67294),a=t.createContext({isWorkingPreview:!1}),l=function(){return t.useContext(a)}},61095:(e,n,i)=>{"use strict";i.d(n,{Yi:()=>u,I0:()=>d,Pd:()=>s});var t=i(82492),a=i.n(t),l=i(64718),r=i(319),o={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UserViewerEdge"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"userId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"User_viewerEdge"}}]}}]}}]}}]}}].concat(i.n(r)()([{kind:"FragmentDefinition",name:{kind:"Name",value:"User_viewerEdge"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserViewerEdge"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"createdAt"}},{kind:"Field",name:{kind:"Name",value:"hasCompletedProfile"}},{kind:"Field",name:{kind:"Name",value:"isAllowEdsEnabled"}},{kind:"Field",name:{kind:"Name",value:"isBlocking"}},{kind:"Field",name:{kind:"Name",value:"isFollowing"}},{kind:"Field",name:{kind:"Name",value:"isMuting"}},{kind:"Field",name:{kind:"Name",value:"isFacebookFollowing"}},{kind:"Field",name:{kind:"Name",value:"isMediumFollowing"}},{kind:"Field",name:{kind:"Name",value:"isSuperFollowing"}},{kind:"Field",name:{kind:"Name",value:"isTwitterFollowing"}},{kind:"Field",name:{kind:"Name",value:"isUser"}},{kind:"Field",name:{kind:"Name",value:"lastPostCreatedAt"}},{kind:"Field",name:{kind:"Name",value:"readPostsCount"}}]}}]))};function d(e,n,i){var t=e.readQuery({query:o,variables:{userId:n}}),l=a()({},t,{user:{viewerEdge:i}});e.writeQuery({query:o,variables:{userId:n||""},data:l})}var s=function(e){var n,i,t=(0,l.a)(o,{variables:{userId:null!==(n=null==e?void 0:e.id)&&void 0!==n?n:""},ssr:!1,skip:!(null!=e&&e.id)}),a=t.loading,r=t.error,d=t.data;return a?{loading:a}:r?{error:r}:{viewerEdge:null==d||null===(i=d.user)||void 0===i?void 0:i.viewerEdge}},u=function(e,n){var i=n.userId,t=n.viewerId;return e.identify({__typename:"UserViewerEdge",id:"userId:".concat(i,"-viewerId:").concat(t)})}},32317:(e,n,i)=>{"use strict";i.d(n,{B:()=>x});var t=i(67294),a=i(71230),l=i(98863),r=i(6443),o=i(63038),d=i.n(o),s=i(21919),u=i(69507),c=i(25550),m=i(61095),k=i(93310),v=i(47230),f=i(18627),g=i(66411),p=i(50563),S=function(e){var n,i=e.user,a=e.buttonSize,l=void 0===a?"REGULAR":a,r=e.buttonStyleFn,o=void 0===r?function(e){return e?"OBVIOUS":"STRONG"}:r,S=e.isLinkStyle,E=void 0!==S&&S,w=e.width,F=e.onClick,y=e.preventParentClick,b=(0,c.r)().viewerId,h=(0,m.Pd)(i),N=h.viewerEdge,x=h.loading,I=i.id,C=null!==(n=i.name)&&void 0!==n?n:"",U=(0,s.D)(u.L,{variables:{targetUserId:I},optimisticResponse:{followUser:{__typename:"User",id:I,name:C,viewerEdge:{__typename:"UserViewerEdge",id:"userId:".concat(I,"-viewerId:").concat(b),isFollowing:!0}}},update:function(e){e.modify({id:"User:".concat(b),fields:{missionControl:(0,p.im)("followedAuthors",!0),followingUserConnection:(0,p.cn)(I),socialStats:(0,p.w6)("followingCount",1)}}),e.modify({id:"User:".concat(I),fields:{socialStats:(0,p.w6)("followerCount",1)}})}}),A=d()(U,1)[0],B=(0,s.D)(u.g,{variables:{targetUserId:I},optimisticResponse:{unfollowUser:{__typename:"User",id:I,name:C,viewerEdge:{__typename:"UserViewerEdge",id:"userId:".concat(I,"-viewerId:").concat(b),isFollowing:!1}}},update:function(e){e.modify({id:"User:".concat(b),fields:{missionControl:(0,p.im)("followedAuthors",!1),socialStats:(0,p.w6)("followingCount",-1)}}),e.modify({id:"User:".concat(I),fields:{socialStats:(0,p.w6)("followerCount",-1)}})}}),D=d()(B,1)[0],_=(0,f.Av)(),V=(0,g.Qi)(),R=!(null==N||!N.isFollowing),O=o(!!R),T=t.useCallback((function(e){return y&&e.preventDefault(),F&&F(),_.event("user.followed",{targetUserId:I,followSource:V}),A()}),[I,V,A,y]),L=t.useCallback((function(e){return y&&e.preventDefault(),_.event("user.unfollowed",{targetUserId:I,followSource:V}),D()}),[I,V,D,y]);return E?t.createElement(k.r,{onClick:R?L:T,linkStyle:R?"SUBTLE":"OBVIOUS",disabled:x},R?"Following":"Follow"):t.createElement(v.zx,{onClick:R?L:T,buttonStyle:O,size:l,loading:x,width:w},R?"Following":"Follow")},E=i(5977),w=i(77520),F=i(26350),y=i(92661),b=i(43487),h=i(50458),N=function(e){var n,i=e.buttonSize,a=void 0===i?"REGULAR":i,l=e.user,r=e.post,o=e.isLinkStyle,d=void 0!==o&&o,s=e.susiEntry,u=e.width,c=e.buttonStyle,m=void 0===c?"STRONG":c,k=(0,b.v9)((function(e){return e.config.authDomain})),v=(0,E.TH)(),f=(0,y.$B)(v.pathname),p=null==f||null===(n=f.route)||void 0===n?void 0:n.name;return t.createElement(g.cW,{source:{userId:l.id},extendSource:!0},t.createElement(F.R,{buttonSize:a,buttonStyle:m,buttonWidth:u,linkStyle:"OBVIOUS",isButton:!d,operation:"register",post:r,user:l,actionUrl:r?(0,h.L4)(k,l.id,r.id):(0,h.CU)(k,l.id),susiEntry:s,pageSource:(0,w.x)(p,"register")},"Follow"))},x=function(e){var n=e.user,i=e.post,o=e.buttonSize,d=void 0===o?"REGULAR":o,s=e.buttonStyleFn,u=void 0===s?function(e){return e?"OBVIOUS":"STRONG"}:s,c=e.isLinkStyle,m=void 0!==c&&c,k=e.susiEntry,v=e.width,f=e.onClick,g=e.preventParentClick,p=(0,r.H)().value,E=(0,l.f)().isWorkingPreview;return p&&p.id===n.id&&!E?null:t.createElement(a.f,null,p?t.createElement(S,{user:n,buttonSize:d,buttonStyleFn:u,isLinkStyle:m,width:v,onClick:f,preventParentClick:g}):t.createElement(N,{post:i,user:n,buttonSize:d,isLinkStyle:m,susiEntry:k,width:v,buttonStyle:u(!1)}))}},86911:(e,n,i)=>{"use strict";i.d(n,{qi:()=>t,WV:()=>a,M6:()=>l,Eb:()=>r,j8:()=>o,SA:()=>d,Ep:()=>s,sf:()=>u,hS:()=>c,bI:()=>m});var t="#437AFF",a="#C4E2FF",l="#F24D2E",r="#34AA45",o="#B5E5A4",d="#9E39FF",s="#E6C0FF",u="#F55189",c="#FFC017",m="#FAEDAF"}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/2905.63a5b658.chunk.js.map