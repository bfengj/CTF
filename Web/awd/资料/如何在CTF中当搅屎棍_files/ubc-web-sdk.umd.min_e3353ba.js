!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define("@baidu/ubc-report-sdk/dist/ubc-web-sdk.umd.min",[],n):t["ubc-web-sdk"]=n()}(this,function(){"use strict";function t(t,n){return t(n={exports:{}},n.exports),n.exports}function n(t){var n=vt.exec(t[0]);if(null==n||4!==n.length)throw"UBC SDK error inputs";if(this.trackerName=n[1]||"t0",this.pluginName=n[2]||"",this.methodName=n[3],this.fields=[].slice.call(t,1),
this.isCreateCommand="init"===this.methodName,this.isConfigCommand="config"===this.methodName,this.isEventCommand="event"===this.methodName||"pv"===this.methodName,this.isTimingCommand="timing"===this.methodName,!this.methodName)throw"UBC SDK methodName can not be empty!";if(this.isCreateCommand&&!this.fields[0])throw"UBC SDK serverId can not be empty!"}function e(t,n){return void 0===t&&(t=""),void 0===n&&(n={}),t+(~t.indexOf("?")?"&":"?")+function(t){if(void 0===t&&(t={}),!t)return"";var n=""
;for(var e in t)if(t.hasOwnProperty(e)){var i=t[e];null==i?i="":"object"==typeof i&&(i=JSON.stringify(i)),n+="&"+encodeURIComponent(e)+"="+encodeURIComponent(i)}return n.slice(1)}(n)}function i(t){var n=typeof t;return"function"===n||!!t&&"object"===n}function r(t){return!0===t||!1===t}function o(){}function a(t,n,i,r){return void 0===i&&(i=o),"function"==typeof window.navigator.sendBeacon&&r.model.useSendBeacon?function(t,n,i,r){t=e(t,{data:n}),window.navigator.sendBeacon(t),i(r)
}(t,n,i,r):function(t,n,i,r){t=e(t,{data:n});var o=Cn(t),a=!1;setTimeout(function(){i&&!a&&(i(r),a=!0)},Nn),o.onload=o.onerror=function(){o=null,i&&!a&&(i(r),a=!0)}}(t,n,i,r)}function c(t){this.model={},function(t,n){t.trackerName=n.trackerName,t.trackerId=n.trackerId||"",t.timingId=n.config&&n.config.timingId||"",t.useSendBeacon=n.config&&n.config.useSendBeacon||!1,t.version=n.config&&n.config.version||Rn,n.config&&r(n.config.testMode)?t.testMode=n.config.testMode:t.testMode=!1,
t.testUrl=n.config&&n.config.testUrl||"",n.config&&r(n.config.autoPvTrack)?t.autoPvTrack=n.config.autoPvTrack:t.autoPvTrack=!1,n.config&&r(n.config.autoTimingTrack)?t.autoTimingTrack=n.config.autoTimingTrack:t.autoTimingTrack=!1,t.queryParams=n.config&&n.config.queryParams||{},t.version&&(t.queryParams.v=t.version),t.appid=n.config&&n.config.appid||Ln,t.cateid=n.config&&n.config.cateid||Mn,t.actiontype=n.config&&n.config.actiontype||Bn,t.from=n.config&&n.config.from||Fn,
t.duration=n.config&&n.config.duration||Dn,t.source=n.config&&n.config.source||function(t,n){void 0===n&&(n=window.location.href);var e=new RegExp("(^|&)idfrom=([^&]*)(&|$)","i");if(n.split("?")[1]){var i=n.split("?")[1].match(e);return null!=i?decodeURIComponent(i[2]):null}return null}()||"",t.inBox=Gt?"1":"0",t.abtest=n.config&&n.config.abtest||"",t.network=n.config&&n.config.network||"",t.page=n.config&&n.config.page||window.location.hostname+window.location.pathname,
t.baiduTongJiId=n.config&&n.config.baiduTongJiId,t.isBaiduTongJi=!(!n.config||!n.config.baiduTongJiId),t.timingTasks=[]}(this.model,t),this.get("isBaiduTongJi")&&(window._hmt=window._hmt||[],function(t){if(t){var n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src=t;var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(n,e)}}(Pn+"?"+this.get("baiduTongJiId"))),this.get("autoPvTrack")&&this.send({type:"event",fields:["pageAutoPv"]}),
this.get("autoTimingTrack")&&this.regestTimingReportor(["pageAutoTiming"])}function u(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];Vt.run.call(u,[n])}var s=t(function(t){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)}),f=t(function(t){var n=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)}),l=(f.version,function(t){
return"object"==typeof t?null!==t:"function"==typeof t}),p=function(t){if(!l(t))throw TypeError(t+" is not an object!");return t},d=function(t){try{return!!t()}catch(t){return!0}},g=!d(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),m=s.document,h=l(m)&&l(m.createElement),v=function(t){return h?m.createElement(t):{}},y=!g&&!d(function(){return 7!=Object.defineProperty(v("div"),"a",{get:function(){return 7}}).a}),b=function(t,n){if(!l(t))return t;var e,i
;if(n&&"function"==typeof(e=t.toString)&&!l(i=e.call(t)))return i;if("function"==typeof(e=t.valueOf)&&!l(i=e.call(t)))return i;if(!n&&"function"==typeof(e=t.toString)&&!l(i=e.call(t)))return i;throw TypeError("Can't convert object to primitive value")},w=Object.defineProperty,k={f:g?Object.defineProperty:function(t,n,e){if(p(t),n=b(n,!0),p(e),y)try{return w(t,n,e)}catch(t){}if("get"in e||"set"in e)throw TypeError("Accessors not supported!");return"value"in e&&(t[n]=e.value),t}},T=function(t,n){
return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}},x=g?function(t,n,e){return k.f(t,n,T(1,e))}:function(t,n,e){return t[n]=e,t},S={}.hasOwnProperty,O=function(t,n){return S.call(t,n)},I=0,j=Math.random(),_=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++I+j).toString(36))},A=t(function(t){var n=_("src"),e=Function.toString,i=(""+e).split("toString");f.inspectSource=function(t){return e.call(t)},(t.exports=function(t,e,r,o){var a="function"==typeof r
;a&&(O(r,"name")||x(r,"name",e)),t[e]!==r&&(a&&(O(r,n)||x(r,n,t[e]?""+t[e]:i.join(String(e)))),t===s?t[e]=r:o?t[e]?t[e]=r:x(t,e,r):(delete t[e],x(t,e,r)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[n]||e.call(this)})}),E=function(t,n,e){if(function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!")}(t),void 0===n)return t;switch(e){case 1:return function(e){return t.call(n,e)};case 2:return function(e,i){return t.call(n,e,i)};case 3:
return function(e,i,r){return t.call(n,e,i,r)}}return function(){return t.apply(n,arguments)}},P=function(t,n,e){var i,r,o,a,c=t&P.F,u=t&P.G,l=t&P.S,p=t&P.P,d=t&P.B,g=u?s:l?s[n]||(s[n]={}):(s[n]||{}).prototype,m=u?f:f[n]||(f[n]={}),h=m.prototype||(m.prototype={});for(i in u&&(e=n),e)o=((r=!c&&g&&void 0!==g[i])?g:e)[i],a=d&&r?E(o,s):p&&"function"==typeof o?E(Function.call,o):o,g&&A(g,i,o,t&P.U),m[i]!=o&&x(m,i,a),p&&h[i]!=o&&(h[i]=o)};s.core=f,P.F=1,P.G=2,P.S=4,P.P=8,P.B=16,P.W=32,P.U=64,P.R=128
;var C=P,N={}.toString,R=function(t){return N.call(t).slice(8,-1)},L=Array.isArray||function(t){return"Array"==R(t)};C(C.S,"Array",{isArray:L});var M=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==R(t)?t.split(""):Object(t)},B=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},F=function(t){return Object(B(t))},D=Math.ceil,U=Math.floor,z=function(t){return isNaN(t=+t)?0:(t>0?U:D)(t)},q=Math.min,H=function(t){return t>0?q(z(t),9007199254740991):0
},G=t(function(t){var n=s["__core-js_shared__"]||(s["__core-js_shared__"]={});(t.exports=function(t,e){return n[t]||(n[t]=void 0!==e?e:{})})("versions",[]).push({version:f.version,mode:"global",copyright:"Â© 2018 Denis Pushkarev (zloirock.ru)"})}),J=t(function(t){var n=G("wks"),e=s.Symbol,i="function"==typeof e;(t.exports=function(t){return n[t]||(n[t]=i&&e[t]||(i?e:_)("Symbol."+t))}).store=n}),V=J("species"),Q=function(t,n){return new(function(t){var n
;return L(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!L(n.prototype)||(n=void 0),l(n)&&null===(n=n[V])&&(n=void 0)),void 0===n?Array:n}(t))(n)},K=function(t,n){var e=1==t,i=2==t,r=3==t,o=4==t,a=6==t,c=5==t||a,u=n||Q;return function(n,s,f){for(var l,p,d=F(n),g=M(d),m=E(s,f,3),h=H(g.length),v=0,y=e?u(n,h):i?u(n,0):void 0;h>v;v++)if((c||v in g)&&(p=m(l=g[v],v,d),t))if(e)y[v]=p;else if(p)switch(t){case 3:return!0;case 5:return l;case 6:return v;case 2:y.push(l)}else if(o)return!1
;return a?-1:r||o?o:y}},$=J("unscopables"),W=Array.prototype;null==W[$]&&x(W,$,{});var X=function(t){W[$][t]=!0},Y=K(5),Z=!0;"find"in[]&&Array(1).find(function(){Z=!1}),C(C.P+C.F*Z,"Array",{find:function(t){return Y(this,t,arguments.length>1?arguments[1]:void 0)}}),X("find");var tt=function(t){return M(B(t))},nt=Math.max,et=Math.min,it=function(t){return function(n,e,i){var r,o=tt(n),a=H(o.length),c=function(t,n){return(t=z(t))<0?nt(t+n,0):et(t,n)}(i,a);if(t&&e!=e){
for(;a>c;)if((r=o[c++])!=r)return!0}else for(;a>c;c++)if((t||c in o)&&o[c]===e)return t||c||0;return!t&&-1}},rt=G("keys"),ot=function(t){return rt[t]||(rt[t]=_(t))},at=it(!1),ct=ot("IE_PROTO"),ut=function(t,n){var e,i=tt(t),r=0,o=[];for(e in i)e!=ct&&O(i,e)&&o.push(e);for(;n.length>r;)O(i,e=n[r++])&&(~at(o,e)||o.push(e));return o},st="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),ft=Object.keys||function(t){return ut(t,st)},lt={
f:Object.getOwnPropertySymbols},pt={f:{}.propertyIsEnumerable},dt=Object.assign,gt=!dt||d(function(){var t={},n={},e=Symbol(),i="abcdefghijklmnopqrst";return t[e]=7,i.split("").forEach(function(t){n[t]=t}),7!=dt({},t)[e]||Object.keys(dt({},n)).join("")!=i})?function(t,n){for(var e=F(t),i=arguments.length,r=1,o=lt.f,a=pt.f;i>r;)for(var c,u=M(arguments[r++]),s=o?ft(u).concat(o(u)):ft(u),f=s.length,l=0;f>l;)a.call(u,c=s[l++])&&(e[c]=u[c]);return e}:dt;C(C.S+C.F,"Object",{assign:gt})
;var mt=function(t,n){return!!t&&d(function(){n?t.call(null,function(){},1):t.call(null)})},ht=K(1);C(C.P+C.F*!mt([].map,!0),"Array",{map:function(t){return ht(this,t,arguments[1])}});var vt=/^(?:(\w+)\.)?(?:(\w+)\.)?(\w+)$/,yt=it(!1),bt=[].indexOf,wt=!!bt&&1/[1].indexOf(1,-0)<0;C(C.P+C.F*(wt||!mt(bt)),"Array",{indexOf:function(t){return wt?bt.apply(this,arguments)||0:yt(this,t,arguments[1])}});var kt=function(t,n,e){var i=J(t),r=e(B,i,""[t]),o=r[0],a=r[1];d(function(){var n={}
;return n[i]=function(){return 7},7!=""[t](n)})&&(A(String.prototype,t,o),x(RegExp.prototype,i,2==n?function(t,n){return a.call(t,this,n)}:function(t){return a.call(t,this)}))};kt("match",1,function(t,n,e){return[function(e){var i=t(this),r=null==e?void 0:e[n];return void 0!==r?r.call(e,i):new RegExp(e)[n](String(i))},e]});var Tt=J("match"),xt=function(t){var n;return l(t)&&(void 0!==(n=t[Tt])?!!n:"RegExp"==R(t))};kt("split",2,function(t,n,e){var i=xt,r=e,o=[].push
;if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length){var a=void 0===/()??/.exec("")[1];e=function(t,n){var e=String(this);if(void 0===t&&0===n)return[];if(!i(t))return r.call(e,t,n);var c,u,s,f,l,p=[],d=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),g=0,m=void 0===n?4294967295:n>>>0,h=new RegExp(t.source,d+"g")
;for(a||(c=new RegExp("^"+h.source+"$(?!\\s)",d));(u=h.exec(e))&&!((s=u.index+u[0].length)>g&&(p.push(e.slice(g,u.index)),!a&&u.length>1&&u[0].replace(c,function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(u[l]=void 0)}),u.length>1&&u.index<e.length&&o.apply(p,u.slice(1)),f=u[0].length,g=s,p.length>=m));)h.lastIndex===u.index&&h.lastIndex++;return g===e.length?!f&&h.test("")||p.push(""):p.push(e.slice(g)),p.length>m?p.slice(0,m):p}}else"0".split(void 0,0).length&&(e=function(t,n){
return void 0===t&&0===n?[]:r.call(this,t,n)});return[function(i,r){var o=t(this),a=null==i?void 0:i[n];return void 0!==a?a.call(i,o,r):e.call(String(o),i,r)},e]});var St=Object.getOwnPropertyDescriptor,Ot={f:g?St:function(t,n){if(t=tt(t),n=b(n,!0),y)try{return St(t,n)}catch(t){}if(O(t,n))return T(!pt.f.call(t,n),t[n])}},It=function(t,n){if(p(t),!l(n)&&null!==n)throw TypeError(n+": can't set as prototype!")},jt={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,e){try{
(e=E(Function.call,Ot.f(Object.prototype,"__proto__").set,2))(t,[]),n=!(t instanceof Array)}catch(t){n=!0}return function(t,i){return It(t,i),n?t.__proto__=i:e(t,i),t}}({},!1):void 0),check:It}.set,_t=st.concat("length","prototype"),At={f:Object.getOwnPropertyNames||function(t){return ut(t,_t)}},Et=J("species"),Pt=k.f,Ct=At.f,Nt=s.RegExp,Rt=Nt,Lt=Nt.prototype,Mt=/a/g,Bt=/a/g,Ft=new Nt(Mt)!==Mt;if(g&&(!Ft||d(function(){return Bt[J("match")]=!1,Nt(Mt)!=Mt||Nt(Bt)==Bt||"/a/i"!=Nt(Mt,"i")}))){
Nt=function(t,n){var e,i,r,o,a=this instanceof Nt,c=xt(t),u=void 0===n;return!a&&c&&t.constructor===Nt&&u?t:(e=Ft?new Rt(c&&!u?t.source:t,n):Rt((c=t instanceof Nt)?t.source:t,c&&u?function(){var t=p(this),n="";return t.global&&(n+="g"),t.ignoreCase&&(n+="i"),t.multiline&&(n+="m"),t.unicode&&(n+="u"),t.sticky&&(n+="y"),n}.call(t):n),i=Nt,(o=(a?this:Lt).constructor)!==i&&"function"==typeof o&&(r=o.prototype)!==i.prototype&&l(r)&&jt&&jt(e,r),e)};for(var Dt=Ct(Rt),Ut=0;Dt.length>Ut;)!function(t){
t in Nt||Pt(Nt,t,{configurable:!0,get:function(){return Rt[t]},set:function(n){Rt[t]=n}})}(Dt[Ut++]);Lt.constructor=Nt,Nt.prototype=Lt,A(s,"RegExp",Nt)}!function(t){var n=s.RegExp;g&&n&&!n[Et]&&k.f(n,Et,{configurable:!0,get:function(){return this}})}();var zt=window.navigator.userAgent,qt=/ (lite|info) baiduboxapp\//i.test(zt),Ht=/ mission baiduboxapp\//i.test(zt),Gt=/ baiduboxapp\//i.test(zt)&&!qt&&!Ht,Jt=function(t,n){if(!Array.isArray(t)||!Array.isArray(n))return{}
;for(var e={},i=Math.min(t.length+1,n.length),r=0;r<i;r++)if("object"==typeof n[r])for(var o in e[t[r]]={},n[r])n[r].hasOwnProperty(o)&&(e[t[r]][o]=n[r][o]);else r<t.length&&(e[t[r]]=n[r]);return e},Vt={cmdQueue:[],init:function(){Vt.cmdQueue=[]},run:function(t){var n=t.map(function(t){return Vt.toCommands.apply(Vt,[t])}),e=Vt.cmdQueue.concat(n);for(Vt.cmdQueue=[];e.length>0;)Vt.runCommand.apply(this,[e[0]])&&Vt.cmdQueue.push(e[0]),e.shift()},toCommands:function(t){return new n(t)},
runCommand:function(t){if(t.isCreateCommand)this.create.apply(this,[t.trackerName].concat(t.fields));else if(t.isConfigCommand){var n=this.getByName(t.trackerName),e=t.fields[0];for(var r in e)e.hasOwnProperty(r)&&(i(e[r])?n.set(r,Object.assign({},n.get(r),e[r])):n.set(r,e[r]))}else if(t.isEventCommand){var o=this.getByName(t.trackerName);o.send.call(o,{type:"event",fields:t.fields})}else if(t.isTimingCommand){var a=this.getByName(t.trackerName),c=t.fields[0],u=[].slice.call(t.fields,1)
;"start"===c?a.regestTimingReportor(u):"end"===c&&a.endTimingReportor(u)}}};Vt.init(),C(C.S,"Date",{now:function(){return(new Date).getTime()}});var Qt=function(t,n){return{value:n,done:!!t}},Kt={},$t=g?Object.defineProperties:function(t,n){p(t);for(var e,i=ft(n),r=i.length,o=0;r>o;)k.f(t,e=i[o++],n[e]);return t},Wt=s.document,Xt=Wt&&Wt.documentElement,Yt=ot("IE_PROTO"),Zt=function(){},tn=function(){var t,n=v("iframe"),e=st.length;for(n.style.display="none",Xt.appendChild(n),n.src="javascript:",
(t=n.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),tn=t.F;e--;)delete tn.prototype[st[e]];return tn()},nn=Object.create||function(t,n){var e;return null!==t?(Zt.prototype=p(t),e=new Zt,Zt.prototype=null,e[Yt]=t):e=tn(),void 0===n?e:$t(e,n)},en=k.f,rn=J("toStringTag"),on=function(t,n,e){t&&!O(t=e?t:t.prototype,rn)&&en(t,rn,{configurable:!0,value:n})},an={};x(an,J("iterator"),function(){return this});var cn=function(t,n,e){t.prototype=nn(an,{next:T(1,e)}),
on(t,n+" Iterator")},un=ot("IE_PROTO"),sn=Object.prototype,fn=Object.getPrototypeOf||function(t){return t=F(t),O(t,un)?t[un]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?sn:null},ln=J("iterator"),pn=!([].keys&&"next"in[].keys()),dn=function(){return this},gn=function(t,n,e,i,r,o,a){cn(e,n,i);var c,u,s,f=function(t){if(!pn&&t in d)return d[t];switch(t){case"keys":case"values":return function(){return new e(this,t)}}return function(){
return new e(this,t)}},l=n+" Iterator",p=!1,d=t.prototype,g=d[ln]||d["@@iterator"]||d[r],m=g||f(r),h=f("entries"),v=d.entries||g;if(v&&(s=fn(v.call(new t)))!==Object.prototype&&s.next&&(on(s,l,!0),"function"!=typeof s[ln]&&x(s,ln,dn)),g&&"values"!==g.name&&(p=!0,m=function(){return g.call(this)}),(pn||p||!d[ln])&&x(d,ln,m),Kt[n]=m,Kt[l]=dn,r)if(void(c={values:m,keys:f("keys"),entries:h}))for(u in c)u in d||A(d,u,c[u]);else C(C.P+C.F*(pn||p),n,c);return c}(Array,"Array",function(t,n){
this._t=tt(t),this._i=0,this._k=n},function(){var t=this._t,n=this._k,e=this._i++;return!t||e>=t.length?(this._t=void 0,Qt(1)):Qt(0,"keys"==n?e:"values"==n?t[e]:[e,t[e]])},"values");Kt.Arguments=Kt.Array,X("keys"),X("values"),X("entries");for(var mn=J("iterator"),hn=J("toStringTag"),vn=Kt.Array,yn={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,
HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},bn=ft(yn),wn=0;wn<bn.length;wn++){var kn,Tn=bn[wn],xn=yn[Tn],Sn=s[Tn],On=Sn&&Sn.prototype;if(On&&(On[mn]||x(On,mn,vn),On[hn]||x(On,hn,Tn),Kt[Tn]=vn,
xn))for(kn in gn)On[kn]||A(On,kn,gn[kn],!0)}var In=K(0),jn=mt([].forEach,!0);C(C.P+C.F*!jn,"Array",{forEach:function(t){return In(this,t,arguments[1])}});var _n,An,En={http:"http://m.baidu.com/tcbox?action=pblog",https:"https://mbd.baidu.com/tcbox?action=pblog"}["https:"===document.location.protocol?"https":"http"],Pn="https://hm.baidu.com/hm.js",Cn=function(t){var n=document.createElement("img");return n.width=1,n.height=1,n.src=t,n
},Nn=100,Rn="1.0",Ln="1",Mn="99",Bn="0",Fn="act",Dn=3,Un=["type","value","ext"];c.prototype.set=function(t,n){this.model[t]=n},c.prototype.get=function(t){return this.model[t]},c.prototype.send=function(t){var n,r,o,c=t.type,u=t.fields;if("event"===c){if(u&&i(u[0])?(o=u[0],function(t){return"function"==typeof t}(u[1])&&(n=u[1])):o=Jt(Un,u),r=function(t,n){var e={cateid:t.cateid,actiondata:{id:t.trackerId,type:"0",timestamp:Date.now(),content:{page:n.page||t.page,source:t.source,from:t.from,
type:n.type,value:n.value,ext:n.ext}}};return"1.0"===t.version&&(e.actiondata.abtest=t.abtest,e.actiondata.inBox=t.inBox,e.actiondata.network=t.network,e.appid=t.appid,e.actiontype=t.actiontype),e}(this.model,o),this.get("isBaiduTongJi")){var s=r.actiondata.content||{},f=s.page,l=s.type,p=s.value;window._hmt.push(["_trackEvent",f,l,p])}}else"timing"===c&&(r=function(t,n){var e={cateid:t.cateid,actiondata:{id:t.timingId,type:"1",timestamp:Date.now(),content:{duration:t.duration,option:{
page:t.page,source:t.source,from:t.from,type:n.type,value:n.value,ext:n.ext}}}};return"1.0"===t.version&&(e.actiondata.abtest=t.abtest,e.actiondata.inBox=t.inBox,e.actiondata.network=t.network,e.appid=t.appid,e.actiontype=t.actiontype),e}(this.model,u));var d=this.get("testMode")?"http://bjyz-mco-searchbox201609-m12xi3-044.bjyz.baidu.com:8080/tcbox?action=pblog":En
;"2.0"===this.model.version&&(d=this.get("testMode")?"http://bjyz-mco-searchbox201609-m12xi3-044.bjyz.baidu.com:8080/ztbox?action=zpblog":"https://mbd.baidu.com/ztbox?action=zpblog",d=e(d=this.model.testUrl||d,this.model.queryParams)),a.apply(this,[d,r,n,this])},c.prototype.regestTimingReportor=function(t){var n=this;if(void 0===t&&(t=[]),!this.get("timingId"))throw"timing ID is required!";var e=this.get("timingTasks"),i=this.get("duration");if(t=Jt(Un,t),!e.find(function(n){
return n.eventName===t.type})){this.send({type:"timing",fields:t});var r=setInterval(function(){n.send({type:"timing",fields:t})},1e3*i);e.push({timingIntevalId:r,isReporting:!0,eventName:t.type,fields:t})}},c.prototype.stopAllTimingReportor=function(){this.get("timingTasks").forEach(function(t){t.isReporting=!1,clearInterval(t.timingIntevalId)})},c.prototype.startAllTimingReportor=function(){var t=this,n=this.get("timingTasks"),e=this.get("duration");n.forEach(function(n){n.isReporting=!0,
t.send({type:"timing",fields:n.fields}),n.timingIntevalId=setInterval(function(){t.send({type:"timing",fields:n.fields})},1e3*e)})},c.prototype.endTimingReportor=function(t){var n=this;t=Jt(Un,t);var e=this.get("timingTasks"),i=[];e.forEach(function(e){var r=e.timingIntevalId;e.eventName===t.type?clearInterval(r):i.push(e),n.set("timingTasks",i)})},c.prototype.removeAllTimingReportor=function(){var t=this.get("timingTasks");t.forEach(function(t){clearInterval(t.timingIntevalId)}),t=[]},
void 0!==document.hidden?(_n="hidden",An="visibilitychange"):void 0!==document.msHidden?(_n="msHidden",An="msvisibilitychange"):void 0!==document.webkitHidden?(_n="webkitHidden",An="webkitvisibilitychange"):void 0!==document.baiduboxappvisibilitychange&&(_n="webkitHidden",An="webkitvisibilitychange");var zn=window.UBCReportObject||"ubc",qn=[],Hn={},Gn=["trackerName","trackerId","config"];return u.create=function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e]
;var i=Jt(Gn,[].slice.call(n)),r=i.trackerName;if(Hn[r])return Hn[r];if(qn.find(function(t){return t.get("trackerId")===i.trackerId}))throw"multi tracker serverId can not be same";var o=new c(i);return Hn[r]=o,qn.push(o),o},u.remove=function(t){for(var n=qn.length,e=0;e<n;e++)if(qn[e][t]===t){qn.splice(e,1),Hn[t]=null;break}},u.main=function(){var t=window[zn],n=t&&t.q;t&&"function"==typeof t.getAll&&(u=window[zn]),Array.isArray(n)&&(Vt.run.apply(u,[n]),t.q=[]),u.startTime=t&&t.l||1*new Date,
u.loaded=!0,window[zn]=u},u.getByName=function(t){return Hn[t]},u.getAll=function(){return qn.slice()},u.main(),function(t){void 0!==document.addEventListener&&void 0!==_n&&document.addEventListener(An,function(){t.getAll().forEach(function(t){var n=t.get("timingTasks");Array.isArray(n)&&(document[_n]?t.stopAllTimingReportor():t.startAllTimingReportor())})},!1)}(u),u});