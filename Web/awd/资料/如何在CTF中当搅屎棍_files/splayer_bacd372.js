define("@baidu/splayer/dist/player-amd",["@searchfe/user-agent","versions-compare","@baidu/boxx","@baidu/webb","@baidu/data-channel","@baidu/xbox-player","@baidu/video-decoder-player"],function(t,e,o,i,n,r,s){"use strict";function a(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}function l(t,e){function o(){this.constructor=t}S(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}function d(t,e,o){
for(var i in e)o&&(L.isPlainObject(e[i])||"Array"===L.typeOf(e[i]))?(L.isPlainObject(e[i])&&!L.isPlainObject(t[i])&&(t[i]={}),"Array"===L.typeOf(e[i])&&"Array"!==L.typeOf(t[i])&&(t[i]=[]),d(t[i],e[i],o)):void 0!==e[i]&&(t[i]=e[i])}function p(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function c(t,e){return"number"!=typeof e||{"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,
"z-index":1,zoom:1}[p(t)]?e:e+"px"}function h(t,e){function o(){var t=document.createElement("style");if(t.setAttribute("type","text/css"),e.attributes)for(var o=Object.keys(e.attributes),i=0;i<o.length;i++)t.setAttribute(o[i],e.attributes[o[i]]);var r="prepend"===n?"afterbegin":"beforeend";return s.insertAdjacentElement(r,t),t}if(t&&"undefined"!=typeof document){
var i,n=!0===e.prepend?"prepend":"append",r=!0===e.singleTag,s="string"==typeof e.container?document.querySelector(e.container):document.getElementsByTagName("head")[0];if(r){var a=U.indexOf(s);-1===a&&(a=U.push(s)-1,W[a]={}),i=W[a]&&W[a][n]?W[a][n]:W[a][n]=o()}else i=o();65279===t.charCodeAt(0)&&(t=t.substring(1)),i.styleSheet?i.styleSheet.cssText+=t:i.appendChild(document.createTextNode(t))}}function u(){
return!(y.default.isIOS()&&b.default(y.default.iOSVersion(),"11")<0)&&!(y.default.isAndroid()&&!/T7/.test(window.navigator.userAgent))&&(!y.default.isBaiduBox()||y.default.isBaiduBoxLite()||y.default.isBaiduBoxJisu()?void 0:b.default(y.default.baiduBoxVersion(),"12.16")>=0)}function m(){return y.default.isAndroid()&&y.default.isBaiduBox()&&!y.default.isBaiduBoxLite()&&!y.default.isBaiduBoxJisu()}function g(){
var t,e,o,i=1==+(null===(o=null===(e=null===(t=window.page)||void 0===t?void 0:t.comm)||void 0===e?void 0:e.sampleval)||void 0===o?void 0:o.VID_VIVO_AUTOPLAY);return y.default.isBaiduboxOrBdapp()||y.default.isGoogleChrome()||y.default.isSafariBrowser()||y.default.isBDBoxEngine()||i}function f(){return y.default.isBaiduboxOrBdapp()||y.default.isGoogleChrome()||y.default.isSafariBrowser()||y.default.isBDBoxEngine()}function v(t){return{from:(null==t?void 0:t.from)||"unknown",
page:(null==t?void 0:t.page)||"unknown",value:(null==t?void 0:t.value)||"unknown"}}var y=a(t),b=a(e),C=a(o),w=a(i),x=a(n),D=a(r),S=function(t,e){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},P=function(){return(P=Object.assign||function(t){for(var e,o=1,i=arguments.length;o<i;o++)for(var n in e=arguments[o])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t
}).apply(this,arguments)},T=function(){function t(){this.listeners={}}return t.prototype.on=function(t,e,o){if("string"!=typeof t||"function"!=typeof e)return this;o=o||this;var i=this.handleType(t);i.listener=e,i.context=o;var n=this.listeners[i.e];return n||(n=[],this.listeners[i.e]=n),n.push(i),this},t.prototype.emit=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];if(!t)return this;var i=this.handleType(t).e,n=this.listeners[i];return n?(n.forEach(function(t){
var o=t.listener,i=t.context;o.apply(i,e)}),this):this},t.prototype.off=function(t){if(!t)return this.listeners={},this;var e=this.handleType(t).e,o=this.listeners[e];return o?(this.listeners[e]=o.filter(function(e){var o=e.e,i=e.ns;return o+(i?"."+i:"")!==t}),this):this},t.prototype.one=function(t,e,o){var i="";return o=o||this,this.on(t,i=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];this.off(t,i),e.apply(o,n)}),this},t.prototype.handleType=function(t){var e=t.split(".")
;return{e:e[0],ns:e[1]}},t}(),L={inArray:function(t,e){return e.indexOf(t)>=0},camelize:function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},each:function(t,e){var o,i;if("number"==typeof t.length){for(o=0;o<t.length;o++)if(!1===e.call(t[o],o,t[o]))return t}else for(i in t)if(!1===e.call(t[i],i,t[i]))return t;return t},hasClass:function(t,e){return t.classList?Array.from(t.classList).some(function(t){return t===e
}):!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))},addClass:function(t,e){t.classList?e.replace(/(^\s+|\s+$)/g,"").split(/\s+/g).forEach(function(e){e&&t.classList.add(e)}):L.hasClass(t,e)||(t.className+=" "+e)},removeClass:function(t,e){t.classList?e.split(/\s+/g).forEach(function(e){t.classList.remove(e)}):L.hasClass(t,e)&&e.split(/\s+/g).forEach(function(e){var o=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(o," ")})},css:function(t,e,o){if(arguments.length<3){
if(!t)return;var i=getComputedStyle(t,"");if("string"==typeof e)return t.style[L.camelize(e)]||i.getPropertyValue(e);if("Array"===L.typeOf(e)){var n={};return L.each(e,function(e,o){n[o]=t.style[L.camelize(o)]||i.getPropertyValue(o)}),n}}var r="";if("String"===L.typeOf(e))o||0===o?r=p(e)+":"+c(e,o):t.style.removeProperty(p(e));else for(var s in e)e[s]||0===e[s]?r+=p(s)+":"+c(s,e[s])+";":t.style.removeProperty(p(s));return t.style.cssText+=";"+r,t.style.cssText},isDom:function(t){
return"function"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&1===t.nodeType&&"string"==typeof t.nodeName},createDom:function(t,e,o,i){void 0===t&&(t="div"),void 0===e&&(e=""),void 0===o&&(o=""),void 0===i&&(i={});var n=document.createElement(t);return o&&(n.className=o),e&&(n.innerHTML=e),Object.keys(i).forEach(function(t){var e=t,o=i[t];n.setAttribute(e,o)}),n},removeDom:function(t){if(t&&L.isDom(t))try{null!==t.parentNode&&t.parentNode.removeChild(t)}catch(t){}},
append:function(t,e){if(1===t.nodeType&&1===e.nodeType)try{t.appendChild(e)}catch(t){}},typeOf:function(t){return Object.prototype.toString.call(t).match(/([^\s.*]+)(?=]$)/g)[0]},isPlainObject:function(t){return"Object"===L.typeOf(t)&&!L.isWindow(t)&&Object.getPrototypeOf(t)===Object.prototype},isWindow:function(t){return null!==t&&t===t.window},extend:function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];var i=null;return"boolean"==typeof t&&(i=t,t=e.shift()),
e.forEach(function(e){return d(t,e,i)}),t},findDom:function(t,e){return void 0===e&&(e=document),e.querySelectorAll(t)},hide:function(t){L.isDom(t)&&L.css(t,"display","none")},show:function(t){L.isDom(t)&&("none"===t.style.display&&(t.style.display=""),"none"===getComputedStyle(t,"").getPropertyValue("display")&&(t.style.display=function(t){var e=document.createElement(t);document.body.appendChild(e);var o=getComputedStyle(e,"").getPropertyValue("display");return e.parentNode.removeChild(e),
"none"===o&&(o="block"),o}(t.nodeName)))},remove:function(t){if(t&&L.isDom(t))try{null!==t.parentNode&&t.parentNode.removeChild(t)}catch(t){}},add0:function(t,e){return void 0===e&&(e=2),(t=String(t)).length>=e?t:new Array(e).fill(0).slice(0,e-t.length).join("")+t},formatSeconds:function(t){t=Number(t);var e=Math.floor(t/3600);t-=3600*e;var o=Math.floor(t/60);t-=60*o;var i=Math.floor(t);return e?L.add0(e)+":"+L.add0(o)+":"+L.add0(i):L.add0(o)+":"+L.add0(i)},pageEvent:{_execShow:!1,_execHide:!1,
_leaveCB:[],_showCB:[],onPageShow:function(t){"function"==typeof t&&this._showCB.push(t)},onPageHide:function(t){"function"==typeof t&&this._leaveCB.push(t)},_isInResultPage:function(){var t=/\/s$/.test(window.location.pathname);return!(y.default.isBaiduBox()&&!y.default.isBaiduBoxJisu()&&t&&(window.ssIsPaused||window.ss_webview_is_in_background))},_changeTabNaEventHandler:function(){window.ssIsPaused||window.ss_webview_is_in_background?this._execOnPageHide():this._execOnPageShow()},
_execOnPageShow:function(){this._isInResultPage()&&(this._execShow||(this._execShow=!0,this._execHide=!1,this._showCB.forEach(function(t){return t()})))},_execOnPageHide:function(){this._execHide||(this._execHide=!0,this._execShow=!1,this._leaveCB.forEach(function(t){return t()}))},cancelCB:function(t,e){var o="pageHide"===t?this._leaveCB:this._showCB,i=o.indexOf(e);-1!==i&&o.splice(i,1)},_initEvent:function(){var t=this;window.addEventListener("visibilitychange",function(){
document.hidden?t._execOnPageHide():t._execOnPageShow()});var e=document.querySelector("[id^=vid_js_bridge]");null==e||e.contentWindow.addEventListener("message",this._changeTabNaEventHandler.bind(this)),window.addEventListener("beforeunload",function(){return t._execOnPageHide}),window.addEventListener("bbabeepagewillinactive",function(){return t._execOnPageHide}),window.addEventListener("pageHide",function(){return t._execOnPageHide}),window.addEventListener("blur",function(){
return t._execOnPageHide}),window.addEventListener("unload",function(){return t._execOnPageHide}),window.addEventListener("pageshow",function(){return t._execOnPageShow}),window.addEventListener("bbabeepagewillactive",function(){return t._execOnPageShow}),window.addEventListener("foucs",function(){return t._execOnPageShow})}}};L.pageEvent._initEvent()
;var B="SAMELAYER_PLAYER",k="NATIVE_PLAYER",_="DECODER_PLAYER",O=["autoplay","buffered","crossOrigin","currentSrc","currentTime","defaultMuted","duration","ended","error","loop","muted","networkState","paused","playbackRate","played","preload","readyState","seekable","seeking","src","volume","fullscreen"],E=["click","play","abort","emptied","playing","pause","ended","error","seeking","stalled","suspend","seeked","timeupdate","waiting","canplay","canplaythrough","durationchange","volumechange","loadeddata","playend","loadedmetadata","loadstart","mozaudioavailable","progress","ratechange","touchstart","touchmove","touchend","webkitendfullscreen","enterpictureinpicture","leavepictureinpicture","destroy","successPlay","reset"],V=["src","playsinline","crossorigin","currentTime","loop","muted","playbackRate","preload","volume","poster","autorotate","controls","autoplay","duration","videoSize"],A=["pageUrl","srcid","frsrcid","vid","t7PlayerType"],I=["needReadLocalProgress","ignore4gToast","seekSeconds","videoGravity","syncPlayerCacheProgress","isIgnoreDeviceOrientation","isDefaultBackgroundClearColor","isHiddenDefaultBgImage","isIgnoreVolumeChange","audioGroupScope","isPlayerCanEnterEndPage","mpd","clarityUrl","videoUrl","playerControlType","useAutoVolume"],R=["click","touchstart","init","ready","reset","destory","prepare","successPlay","play","pause","ended","error","closed","canplay","timeupdate","volumechange","mutedchange","loadingchange","cachetimechange","cacheloadfinished","ratechange","startnextloop","enterfullscreen","exitfullscreen","netchange","controlhiddenchange","entersuspense","suspenseclick","exitsuspense","closesuspense","enterpip","closepip","pipclick","pipfail","abort","canplaythrough","durationchange","emptied","loadeddata","loadstart","playing","progress","seeked","seeking","stalled","suspend","waiting","webkitendfullscreen"],j="control",F="videoLogMaker",N="bulletScreens",z="normal",M="simple",H=function(t){
function e(e){var o=t.call(this)||this;return o.player=e,L.extend(o,L),o}return l(e,t),e.prototype.getAttr=function(t){if("string"==typeof t&&this.player)return O.indexOf(t)>-1?this.player[t]:void 0},e.prototype.getConfig=function(){return this.player.config},e}(T),U=[],W=[]
;h(".normalControlContainer,\n.retryControlContainer,\n.posterControlContainer,\n.simpleControlContainer,\n.errorControlContainer {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    z-index: 1000;\n}\n\n.controlHide {\n    display: none;\n}\n\n.controlShow {\n    display: block;\n}\n\n.playControlContainer {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    margin-top: -24px;\n    margin-left: -24px;\n    width: 48px;\n    height: 48px;\n    -webkit-transform: translateZ(0);\n            transform: translateZ(0);\n    overflow: hidden;\n}\n\n.playSvg,\n.pauseSvg,\n.loadSvg {\n    width: 100%;\n    height: 100%;\n}\n\n.retryControlContainer,\n.voiceControlContainer,\n.progressBarContainer,\n.rate-control-container,\n.screenControlContainer {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n\n.retryMidArea {\n    width: 160px;\n}\n\n.retrySvg,\n.retryPlaySvg {\n    width: 48px;\n    height: 48px;\n    margin: 0 auto 8px;\n}\n\n.retryTip {\n    text-align: center;\n    color: #fff;\n    font-size: 14px;\n    height: 14px;\n    line-height: 14px;\n}\n\n@-webkit-keyframes move {\n    from {\n        -webkit-transform: rotate(0deg);\n        transform: rotate(0deg);\n    }\n\n    to {\n        -webkit-transform: rotate(360deg);\n        transform: rotate(360deg);\n    }\n}\n\n@keyframes move {\n    from {\n        -webkit-transform: rotate(0deg);\n        transform: rotate(0deg);\n    }\n\n    to {\n        -webkit-transform: rotate(360deg);\n        transform: rotate(360deg);\n    }\n}\n\n.loadSvg {\n    -webkit-animation: move 1s linear infinite;\n    animation: move 1s linear infinite;\n}\n\n.retryControlContainer {\n    background-color: rgba(0, 0, 0, .7);\n}\n\n.bottomControlContainer {\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    height: 48px;\n    width: 100%;\n}\n\n.flex-col-center {\n    display: flex;\n    flex-direction: column;\n    flex-wrap: nowrap;\n    justify-content: center;\n}\n\n.rate-list-container {\n    position: absolute;\n    align-items: flex-start;\n    box-sizing: border-box;\n    right: -20px;\n    height: 100%;\n    width: 253px;\n    padding-left: 105px;\n    overflow-x: hidden;\n    overflow-y: scroll;\n    background-image: linear-gradient(270deg, rgba(5, 5, 12, .95) 0%, rgba(5, 5, 12, .95) 15%, rgba(5, 5, 12, .8) 48%, rgba(5, 5, 12, .6) 66%, rgba(5, 5, 12, .35) 81%, rgba(5, 5, 12, .11) 93%, rgba(5, 5, 12, 0) 100%);\n    -webkit-transform: translateX(100%);\n            transform: translateX(100%);\n    transition: -webkit-transform .15s linear;\n    transition: transform .15s linear;\n    transition: transform .15s linear, -webkit-transform .15s linear;\n}\n\n.rate-list-container.show {\n    -webkit-transform: translateX(0);\n            transform: translateX(0);\n}\n\n.rate-list-container .rate-list-item {\n    align-items: center;\n    flex-shrink: 0;\n    width: 79px;\n    height: 34px;\n    border-radius: 9px;\n    font-size: 12px;\n    color: #fff;\n    overflow: hidden;\n}\n\n.rate-list-container .rate-list-item + .rate-list-item {\n    margin-top: 1px;\n}\n\n.rate-list-container .rate-list-item.active {\n    box-sizing: border-box;\n    color: #5289ff;\n    background-color: rgba(82, 137, 255, .2);\n    border: 1px solid rgba(82, 137, 255, .1);\n}\n\n.rate-list-container .rate-list-item.active.init-rate {\n    line-height: 14px;\n}\n\n.rate-list-container .rate-list-item.active.init-rate::after {\n    content: '正常速度';\n    font-size: 8px;\n    line-height: 10px;\n    font-weight: 400;\n    -webkit-text-stroke-width: 0;\n}\n\n.bgGradient {\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    opacity: .7;\n    background-image: linear-gradient(to top, rgba(0, 0, 0, .6), rgba(0, 0, 0, 0));\n}\n\n.voiceControlContainer {\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 100%;\n    width: 48px;\n    box-sizing: content-box;\n}\n\n.voiceIcon,\n.screen {\n    width: 24px;\n    height: 24px;\n}\n\n.screen img {\n    border-radius: 0;\n}\n\n.progressControlContainer,\n.progress-control-container {\n    position: relative;\n    height: 100%;\n    margin: 0 52px;\n    display: flex;\n}\n\n/* 此处只修改normal皮肤的进度条样式 */\n.progress-control-container {\n    margin: 0 53px;\n}\n\n.progress-control-container.has-rate {\n    margin: 0 97px 0 53px;\n}\n\n.seenTime {\n    height: 100%;\n    padding-right: 8px;\n    display: flex;\n    align-items: center;\n    flex-shrink: 0;\n    color: #fff;\n    font-size: 12px;\n}\n\n.overTime {\n    height: 100%;\n    padding-left: 8px;\n    display: flex;\n    align-items: center;\n    justify-content: flex-end;\n    flex-shrink: 0;\n    color: #fff;\n    font-size: 12px;\n}\n\n.progressBarContainer {\n    height: 100%;\n    width: 100%;\n    flex-shrink: 1;\n}\n\n.durationBarContainer {\n    position: relative;\n    height: 4px;\n    border-radius: 2px;\n    background-color: rgba(255, 255, 255, .5);\n    flex: 1;\n}\n\n.nopProgressBar {\n    position: absolute;\n    left: 0;\n    bottom: 0;\n    border-radius: 2px;\n    width: 100%;\n    height: 3px;\n    background-color: rgba(0, 0, 0, .3);\n}\n\n.loadedBar,\n.nopLoadedBar {\n    height: 100%;\n    border-radius: 2px;\n    /* background-color: rgba(255, 255, 255, .2); */\n    width: 0;\n}\n\n.playedBar,\n.nopPlayedBar {\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 100%;\n    border-radius: 2px;\n    background-color: rgba(255, 255, 255, .6);\n    width: 0;\n    -webkit-transform-origin: left;\n            transform-origin: left;\n    transition: width .2s linear;\n    color-scheme: dark;\n}\n\n.circlePoint,\n.bigCirclePoint {\n    position: absolute;\n    right: -6px;\n    top: -4px;\n    width: 12px;\n    height: 12px;\n    border-radius: 50%;\n    background-color: #fff;\n}\n\n.bigCirclePoint {\n    right: -12px;\n    top: -10px;\n    width: 24px;\n    height: 24px;\n    opacity: 0;\n}\n\n.enter-suspense-btn {\n    position: absolute;\n    top: 12px;\n    right: 13px;\n    width: 25px;\n    height: 24px;\n}\n\n.rate-control-container {\n    position: absolute;\n    top: 0;\n    right: 53px;\n    height: 100%;\n    color: #fff;\n}\n\n.screenControlContainer {\n    position: absolute;\n    top: 0;\n    right: 0;\n    height: 100%;\n    width: 52px;\n    box-sizing: content-box;\n}\n\n.fullscreen-active {\n    position: fixed !important;\n    left: 0 !important;\n    top: 0 !important;\n    width: 100% !important;\n    height: 100% !important;\n    z-index: 99999 !important;\n}\n\n.nopVoiceOff,\n.nop-voice-open {\n    position: absolute;\n    left: 12px;\n    bottom: 12px;\n    width: 24px;\n    height: 24px;\n    opacity: .6;\n}\n\n.nop-rate-toast {\n    position: absolute;\n    left: 53px;\n    bottom: 7px;\n    height: 33px;\n    padding: 0 12px;\n    font-size: 13px;\n    display: flex;\n    align-items: center;\n    color: #fff;\n    border-radius: 40px;\n    white-space: nowrap;\n    background-color: rgba(17, 17, 17, .8);\n}\n\n.posterControlContainer img {\n    display: block;\n    border: none;\n    width: 100%;\n    height: 100%;\n}\n\n.posterControlContainer .pauseSvg {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    width: 48px;\n    height: 48px;\n    margin-top: -24px;\n    margin-left: -24px;\n}\n\n.simpleInnerContainer {\n    position: absolute;\n    width: 38px;\n    height: 28px;\n}\n\n.simpleLoadingContainer {\n    position: absolute;\n    width: 40px;\n    height: 40px;\n    left: 50%;\n    top: 50%;\n    margin: -20px 0 0 -20px;\n}\n\n.voice2loc1 {\n    left: 8px;\n    bottom: 9px;\n}\n\n.voice2loc2 {\n    right: 10px;\n    bottom: 20px;\n}\n\n.voiceHide {\n    opacity: 1;\n    -webkit-animation: opacityHide 160ms ease-in-out forwards;\n            animation: opacityHide 160ms ease-in-out forwards;\n}\n\n@-webkit-keyframes opacityHide {\n    0% {\n        opacity: 1;\n    }\n\n    100% {\n        opacity: .65;\n    }\n}\n\n@keyframes opacityHide {\n    0% {\n        opacity: 1;\n    }\n\n    100% {\n        opacity: .65;\n    }\n}\n\n.errorTipContainer {\n    width: 70px;\n    color: #fff;\n    margin: 33% auto 0;\n    padding: 12px 14px;\n    background-color: rgba(0, 0, 0, .8);\n    border: 1px solid rgba(255, 255, 255, .5);\n    border-radius: 3px;\n    box-sizing: content-box;\n}\n\n.wifiTipContainer {\n    position: absolute;\n    bottom: 17px;\n    color: #fff;\n    line-height: 38px;\n    background-color: rgba(0, 0, 0, .8);\n    border: 1px solid rgba(255, 255, 255, .5);\n    border-radius: 3px;\n    left: 50%;\n    width: 172px;\n    height: 38px;\n    margin-left: -86px;\n    opacity: .8;\n    text-align: center;\n}\n\n.detailBtn {\n    position: absolute;\n    right: 15px;\n    bottom: 10px;\n    padding: 8px 10px;\n    background-color: #38f;\n    border-radius: 15px;\n    color: #fff !important;\n    font-size: 12px;\n}\n\n.tenN .bottomControlContainer {\n    height: 38px;\n}\n\n.tenN .voiceControlContainer,\n.tenN .screenControlContainer {\n    width: 38px;\n}\n\n.tenN .progressControlContainer {\n    margin: 0 38px;\n}\n\n.tenN .seenTime,\n.tenN .overTime {\n    width: 44px;\n}\n\n.tenN .nopVoiceOff {\n    bottom: 10px;\n    left: 10px;\n}\n\n.tenN .playControlContainer,\n.tenN .posterControlContainer .pauseSvg {\n    margin-top: -19px;\n    margin-left: -19px;\n    width: 38px;\n    height: 38px;\n}\n\n.tenN .retrySvg,\n.tenN .retryPlaySvg {\n    width: 38px;\n    height: 38px;\n}\n\n.tenN .progressBarContainer {\n    margin: 0 44px;\n}\n\n.voiceToastContainer {\n    position: absolute;\n    width: 168px;\n    height: 38px;\n    line-height: 33px;\n    font-size: 14px;\n    color: #fff;\n    text-align: center;\n    background: center/contain no-repeat url('https://mms-mis.cdn.bcebos.com/se-video/toast.png');\n}\n\n.voiceToastPosi {\n    left: 10px;\n    top: -32px;\n}\n\n.nopVoiceToastPosi {\n    left: 10px;\n    top: -70px;\n}\n\n.summaryDot {\n    width: 3px;\n    height: 3px;\n    position: absolute;\n    top: -.5px;\n    background-color: #fff;\n    border-radius: 50%;\n    transition: all .3s;\n    border: .7px solid rgba(255, 255, 255, 1);\n    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, .2);\n}\n\n.summaryDotPlayed {\n    width: 3px;\n    height: 3px;\n    top: 0;\n    background-color: rgba(255, 255, 255, .6);\n    border: 0 solid rgba(255, 255, 255, .6);\n}\n\n.summaryDotSelected {\n    top: -.6px;\n    -webkit-transform: scale(1.8);\n            transform: scale(1.8);\n    background-color: #3c76ff;\n    z-index: 10;\n    box-shadow: 0 .5px 1px 0 rgba(0, 0, 0, .2);\n}\n\n.customProgressControl {\n    position: absolute;\n    width: 100%;\n    z-index: 100;\n    height: 3px;\n    margin-top: -3px;\n}\n\n.player-bottom-mask {\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    height: 37px;\n    background-image: linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, .4) 99%);\n    z-index: -1;\n}\n",{
singleTag:!0,attributes:{"data-scp":"wise"}
}),h(".drag-progress-bar-container {\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    z-index: 10000;\n    padding: 13px 12px 23px;\n}\n\n.drag-progress-bar-bg {\n    width: 100%;\n    border-radius: 9px;\n    background: #333;\n    transition: all .1s linear;\n}\n\n.drag-progress-bar {\n    position: relative;\n    height: 3px;\n    width: 0;\n    background: rgba(255, 255, 255, .6);\n    border-radius: 9px 0 0 9px;\n    transition-property: height, width;\n    transition-duration: .25s;\n    -webkit-transform-origin: left;\n            transform-origin: left;\n    transition-timing-function: linear;\n}\n\n.drag-progress-bar.pause {\n    background: rgba(255, 255, 255, .8);\n}\n\n.drag-progress-bar-container.active .drag-progress-bar {\n    background: rgba(255, 255, 255, .6);\n    height: 34px;\n    transition-property: height;\n}\n\n.drag-progress-bar-container.active .drag-progress-bar-bg {\n    -webkit-transform: translateY(5px);\n            transform: translateY(5px);\n}\n\n.drag-progress-bar::after {\n    transition: all .1s linear;\n    content: '';\n    border-radius: 50%;\n    height: 5px;\n    width: 5px;\n    position: absolute;\n    top: -1px;\n    right: -2.5px;\n    background: #fff;\n}\n\n.drag-progress-bar.pause::after {\n    content: '';\n    border-radius: 50%;\n    height: 9px;\n    width: 9px;\n    top: -3px;\n    right: -4.5px;\n}\n\n.drag-progress-bar-container.active .drag-progress-bar::after {\n    content: '';\n    border-radius: 21px;\n    height: 40px;\n    width: 9px;\n    top: -3px;\n    right: -4.5px;\n}\n\n.time-text {\n    position: absolute;\n    bottom: 92px;\n    left: 0;\n    right: 0;\n    line-height: 26px;\n    font-size: 26px;\n    font-family: 'baidunumber-Medium';\n    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.30);\n    display: none;\n    justify-content: center;\n    letter-spacing: -1.33px;\n}\n\n.drag-progress-bar-container.active .time-text {\n    display: flex;\n}\n\n.time-text-current,\n.time-text-total {\n    display: inline-block;\n    color: #fff;\n    white-space: nowrap;\n    width: 60px;\n}\n\n.time-text-total::before {\n    content: '/';\n    padding: 9px;\n}\n\n.time-text-total {\n    width: 80px;\n    color: rgba(255, 255, 255, .5);\n}\n",{
singleTag:!0,attributes:{"data-scp":"wise"}});var q=function(){function t(t,e){var o=this;this.totalWidth=0,this.dragging=!1,this.triggerCanplay=!1,this.initWidth=function(t){void 0===t&&(t=o.percent),o.dragProgressBar.style.transitionProperty="height",o.dragProgressBar.style.transitionDuration=".1s",o.dragProgressBar.style.width=o.totalWidth*t+"px"},this.addTransition=function(){setTimeout(function(){o.dragProgressBar&&(o.dragProgressBar.style.transitionProperty="width",
o.dragProgressBar.style.transitionDuration=".25s",o.dragging=!1)},o.triggerCanplay?200:700)},this.handleTouchMove=function(t){t.preventDefault(),t.stopPropagation();var e=t.targetTouches[0].pageX,i=o.percent=(e-12)/o.totalWidth;i>=0&&i<=1&&(o.dragProgressBar.style.width=o.totalWidth*i+"px",o.timeTextCurrent.innerText=""+L.formatSeconds(o.get("duration")*i))},this.handlePlaying=function(){L.show(o.dragProgressBarContainer),clearTimeout(o.removePauseClassTimer),o.addTransition(),
o.removePauseClassTimer=setTimeout(function(){L.removeClass(o.dragProgressBar,"pause")},3e3)},this.handleTimeUpdate=function(){o.dragging||(o.percent=o.get("currentTime")/o.get("duration"),o.dragProgressBar.style.width=o.totalWidth*o.percent+"px")},this.handlePause=function(){clearTimeout(o.removePauseClassTimer),L.addClass(o.dragProgressBar,"pause"),o.dragProgressBar.classList.add("pause"),o.percent=o.get("currentTime")/o.get("duration")},this.handleTouchStart=function(t){o.dragging=!0,
o.proxy.player.emit("dragStart"),o.dragProgressBarContainer.classList.add("active"),o.timeTextTotal.innerText=""+L.formatSeconds(o.get("duration")),o.dragProgressBar.style.transition="height .1s linear",o.handleTouchMove(t)},this.handleTouchEnd=function(){o.proxy.player.emit("dragEnd"),o.proxy.player.currentTime=o.get("duration")*o.percent,o.dragProgressBarContainer.classList.remove("active"),o.addTransition()},this.proxy=t,this.config=e,this.initDom()}return t.prototype.initDom=function(){
var t=this;this.totalWidth=this.proxy.player.root.clientWidth-24,this.dragProgressBarContainer=L.createDom("div","","drag-progress-bar-container"),this.dragProgressBarBG=L.createDom("div","","drag-progress-bar-bg"),this.dragProgressBar=L.createDom("div","","drag-progress-bar"),this.timeText=L.createDom("div","","time-text"),this.timeTextCurrent=L.createDom("span","","time-text-current"),this.timeTextTotal=L.createDom("span","","time-text-total"),
this.dragProgressBarContainer.addEventListener("touchmove",this.handleTouchMove),this.dragProgressBarContainer.addEventListener("touchend",this.handleTouchEnd),this.dragProgressBarContainer.addEventListener("touchstart",this.handleTouchStart),this.on("pause.progress",this.handlePause),this.on("canplay.progress",function(){t.triggerCanplay=!0,t.initWidth()}),this.on("seeking.progress",this.initWidth),this.on("seeked.progress",this.addTransition),this.on("playing.progress",this.handlePlaying),
this.on("timeupdate.progress",this.handleTimeUpdate),L.hide(this.dragProgressBarContainer),L.append(this.dragProgressBarBG,this.dragProgressBar),L.append(this.dragProgressBarContainer,this.dragProgressBarBG),L.append(this.timeText,this.timeTextCurrent),L.append(this.timeText,this.timeTextTotal),L.append(this.dragProgressBarContainer,this.timeText),L.append(this.proxy.player.videoParent,this.dragProgressBarContainer)},t.prototype.on=function(t,e){this.proxy.on(t,e)},t.prototype.get=function(t){
return this.proxy.getAttr(t)},t}(),G={init:"INIT",play:"PLAY",pause:"PAUSE",load:"LOAD",end:"END",error:"ERROR"},X={normal:"normalControl",retry:"retryControl",poster:"posterControl",error:"errorControl"},$=function(){function t(t,e){this.proxy=t,this.videoConfig=this.proxy.player.config.videoConfig,this.playerType=this.proxy.player.type,this.config={name:j,type:z,simpleVoiceCoordinate:"left",noReplayBtn:!0,poster:"https://www.baidu.com/img/bd_logo1.png",detailUrl:"",detailTxt:"",
initShowCustomControl:!0,showWifiTip:!1,duration:0,showVoiceToast:!0,cardType:"normal",useBoldLoading:!1},this.config=L.extend(this.config,e),this.playerType===B&&y.default.isIOS()&&this.config.type===z||y.default.isUC()&&this.playerType!==_||this.init()}return t.prototype.on=function(t,e){this.proxy.off(t).on(t,e)},t.prototype.one=function(t,e){this.proxy.off(t).one(t,e)},t.prototype.off=function(t){this.proxy.off(t)},t.prototype.get=function(t){return this.proxy.getAttr(t)},
Object.defineProperty(t.prototype,"player",{get:function(){return this.proxy.player},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"videoParent",{get:function(){return this.proxy.player.videoParent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.proxy.player.root},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"paused",{get:function(){return this.get("paused")},enumerable:!1,configurable:!0}),
Object.defineProperty(t.prototype,"playbackRate",{get:function(){return this.get("playbackRate")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"duration",{get:function(){var t=this.get("duration"),e=t===1/0||isNaN(t);return e&&0===this.config.duration?0:e?this.transTime(this.config.duration):t},enumerable:!1,configurable:!0}),t.prototype.pause=function(){var t;null===(t=this.player)||void 0===t||t.pause()},t.prototype.play=function(){var t
;null===(t=this.player)||void 0===t||t.play()},t.prototype.init=function(){var t=this;this.config.type===M?this.openSimpleControl():this.openControl(),this.on("volumechange",function(e){t.toggleVoiceIcon(e)})},t.prototype.openSimpleControl=function(){var t=this;this.playerType===k&&this.player.removeAttribute("controls");var e=this.root.querySelector("[data-pre-control-container]");if(e){this.simpleControlDom=e,this.voiceOffSvg2Dom2=e.querySelector(".voiceOffSvg2"),
this.voiceOpenSvg2Dom2=e.querySelector(".voiceOpenSvg2");var o=e.children[0];this.voiceInnerDom=o,this.setSimpleVoiceEventListener(o)}else if(this.config.customVoiceDom)this.simpleControlDom=L.createDom("div","","simpleControlContainer"),L.append(this.root,this.simpleControlDom),this.customVoiceDom=L.createDom("div","",""),L.append(this.config.customVoiceDom,this.customVoiceDom),
(o=L.createDom("div","","right"!==this.config.simpleVoiceCoordinate?"voice2loc1":"voice2loc2")).setAttribute("rl-type","stop"),this.voiceInnerDom=o,L.append(this.customVoiceDom,o),L.append(o,this.voiceOffSvg2Dom2=this.voiceOffSvg2()),L.append(o,this.voiceOpenSvg2Dom2=this.voiceOpenSvg2()),this.videoConfig.muted?L.hide(this.voiceOpenSvg2Dom2):L.hide(this.voiceOffSvg2Dom2),this.setSimpleVoiceEventListener(o);else{var i=L.createDom("div","","simpleControlContainer");if(this.simpleControlDom=i,
L.append(this.root,i),(o=L.createDom("div","","simpleInnerContainer "+("right"!==this.config.simpleVoiceCoordinate?"voice2loc1":"voice2loc2"))).setAttribute("rl-type","stop"),this.voiceInnerDom=o,L.append(i,o),L.append(o,this.voiceOffSvg2Dom2=this.voiceOffSvg2()),L.append(o,this.voiceOpenSvg2Dom2=this.voiceOpenSvg2()),this.videoConfig.muted?L.hide(this.voiceOpenSvg2Dom2):L.hide(this.voiceOffSvg2Dom2),this.config.detailUrl){var n=L.createDom("a",this.config.detailTxt,"detailBtn",{
href:this.config.detailUrl});L.append(i,n)}this.setSimpleVoiceEventListener(o)}L.append(this.simpleControlDom,L.createDom("div","","player-bottom-mask")),this.config.controls&&this.config.controls.indexOf("dragProgressBar")>-1?new q(this.proxy,this.config):this.config.controls&&this.config.controls.indexOf("nopProgressBar")>-1&&(this.simpleProgressControl(),this.simpleBindEvent()),this.setSimpleLoading(!this.player.prerender),this.on("successPlay",function(){t.addVoiceHide()}),
this.on("waiting",function(){t.setSimpleLoading(!0)}),this.on("playing.control",function(){t.initPlayedBar(),t.simpleHandlePlayedBar(),t.addVoiceHide(),t.setSimpleLoading()}),this.on("seeked",function(e){t.initPlayedBar(e)}),this.on("pause.control",function(){t.removeVoiceHide()}),this.on("destroy",function(){t.removeVoiceHide()})},t.prototype.setSimpleLoading=function(t){
t?this.simpleControlLoadDom?L.show(this.simpleControlLoadDom):this.openSimpleControlLoading():this.simpleControlLoadDom&&L.hide(this.simpleControlLoadDom)},t.prototype.simpleProgressControl=function(){var t,e=this.simpleControlDom;(null===(t=this.config.summaryList)||void 0===t?void 0:t.length)&&this.config.videoContainer&&(this.customProgressDom=L.createDom("div","","customProgressControl"),L.append(this.config.videoContainer.parentElement,this.customProgressDom)),
this.progressControlDom=L.createDom("div","","progressControlContainer"),this.progressControlDom.setAttribute("rl-type","stop"),this.nopProgressBarDom=L.createDom("div","","nopProgressBar"),L.append(e,this.nopProgressBarDom),this.nopLoadedDom=L.createDom("div","","nopLoadedBar"),L.append(this.nopProgressBarDom,this.nopLoadedDom),this.nopPlayedDom=L.createDom("div","","nopPlayedBar"),L.append(this.nopProgressBarDom,this.nopPlayedDom)},t.prototype.simpleBindEvent=function(){var t=this
;this.on("timeupdate",function(){var e,o,i,n;t.simpleHandlePlayedBar(),(null===(i=null===(o=null===(e=t.nopPlayedDom)||void 0===e?void 0:e.style)||void 0===o?void 0:o.transition)||void 0===i?void 0:i.indexOf)&&-1!==t.nopPlayedDom.style.transition.indexOf("none")&&setTimeout(function(){t.nopPlayedDom.style.transition="width 1s linear"},0),t.handleLoadedBar(),(null===(n=t.summaryDoms)||void 0===n?void 0:n.length)&&t.handleSummarySelected()}),this.on("ended",function(){var e
;(null===(e=t.summaryDoms)||void 0===e?void 0:e.length)>=0&&t.selectedSummaryIndex>=0&&L.removeClass(t.summaryDoms[t.selectedSummaryIndex],"summaryDotSelected"),t.selectedSummaryIndex=-1}),this.on("reset",function(){t.handleLoadedBar()})},t.prototype.initPlayedBar=function(t){var e,o,i,n,r,s;if(this.nopPlayedDom){var a=t&&"number"==typeof t?t:0;this.nopPlayedDom.style.transition="none",
this.simpleHandlePlayedBar(a,+(null===(n=null===(i=null===(o=null===(e=this.proxy)||void 0===e?void 0:e.player)||void 0===o?void 0:o.config)||void 0===i?void 0:i.videoConfig)||void 0===n?void 0:n.duration)),(null===(r=this.config.summaryList)||void 0===r?void 0:r.length)&&!this.summarySeted&&this.setSummaryBar(this.customProgressDom),(null===(s=this.summaryDoms)||void 0===s?void 0:s.length)&&this.handleSummarySelected(a)}},t.prototype.simpleHandlePlayedBar=function(t,e){if(this.nopPlayedDom){
if(!this.simpleControlContainerWidth){var o=document.getElementsByClassName("simpleControlContainer")[0];this.simpleControlContainerWidth=o&&o.clientWidth}var i=t||this.get("currentTime");if(i){var n=this.get("duration")||e;n&&(this.nopPlayedDom.style.width=i/n*this.simpleControlContainerWidth+"px")}}},t.prototype.setSummaryBar=function(t){
var e,o,i,n,r=this.get("duration")||+(null===(n=null===(i=null===(o=null===(e=this.proxy)||void 0===e?void 0:e.player)||void 0===o?void 0:o.config)||void 0===i?void 0:i.videoConfig)||void 0===n?void 0:n.duration);r&&!this.summarySeted&&(this.summarySeted=!0,this.config.summaryList.forEach(function(e){if(!(+e.oriTime>r)){var o=L.createDom("div","","summaryDot");o.style.left=100*+e.oriTime/r+"%",L.append(t,o)}}),this.selectedSummaryIndex=-1,
this.summaryDoms=Array.from(document.querySelectorAll(".summaryDot")))},t.prototype.handleSummarySelected=function(t){var e;if(null===(e=this.summaryDoms)||void 0===e?void 0:e.length){var o=this.config.summaryList,i=t||this.get("currentTime");if(i){var n=this.preFrameTime;this.preFrameTime=i,!u()&&!t&&n>i&&(i=n);for(var r=o.length-1,s=i>=+o[r].oriTime?r:o.findIndex(function(t,e){return i>=+t.oriTime&&i<+o[e+1].oriTime
}),a=0;a<this.summaryDoms.length;a++)a<s?L.addClass(this.summaryDoms[a],"summaryDotPlayed"):L.removeClass(this.summaryDoms[a],"summaryDotPlayed");s!==this.selectedSummaryIndex&&(this.selectedSummaryIndex>=0&&L.removeClass(this.summaryDoms[this.selectedSummaryIndex],"summaryDotSelected"),this.selectedSummaryIndex=s,this.selectedSummaryIndex>=0&&L.addClass(this.summaryDoms[this.selectedSummaryIndex],"summaryDotSelected"))}}},t.prototype.openSimpleControlLoading=function(){
this.simpleControlLoadDom=L.createDom("div","","simpleLoadingContainer"),this.simpleControlLoadDom.setAttribute("rl-type","stop"),L.append(this.simpleControlDom,this.simpleControlLoadDom),L.append(this.simpleControlLoadDom,this.simpleLoadIcon())},t.prototype.setSimpleVoiceEventListener=function(t){var e=this;t.addEventListener("click",function(o){o.stopPropagation(),o.preventDefault();for(var i=L.findDom(".voice2",t),n=0;n<i.length;n++)L.hide(i[n])
;var r="voice"+(e.get("muted")?"Open":"Off")+"Svg2",s=r+"Dom2",a=!e.get("muted");e.player.muted=a,e.proxy.player.emit("voiceBtnClicked",{muted:e.playerType===B?a:e.get("muted")}),e[s]?L.show(e[s]):(e[s]=e[r](),L.append(t,e[s])),e.addVoiceHide()},!1)},t.prototype.toggleVoiceIcon=function(t){var e="number"==typeof t?t>0?"Open":"Off":this.get("muted")?"Off":"Open";if("Open"===e&&this.voiceToastDom&&L.hide(this.voiceToastDom),this.config.type===M){
for(var o=(r="voice"+e+"Svg2")+"Dom2",i=L.findDom(".voice2",this.voiceInnerDom),n=0;n<i.length;n++)L.hide(i[n]);this[o]?L.show(this[o]):(this[o]=this[r](),L.append(this.voiceInnerDom,this[o]))}else{var r;for(o=(r="voice"+e+"Svg")+"Dom",i=L.findDom(".voiceIcon",this.voiceControlDom),n=0;n<i.length;n++)L.hide(i[n]);"Off"===e?(L.show(this.nopVoiceOffDom),L.hide(this.nopVoiceOpenDom)):(L.hide(this.nopVoiceOffDom),L.show(this.nopVoiceOpenDom)),this[o]?L.show(this[o]):(this[o]=this[r](),
L.append(this.voiceControlDom,this[o]))}},t.prototype.openControl=function(){this.get("src")&&(L.findDom(".normalControlContainer",this.videoParent).length>0||(this.playerType===k&&this.player.removeAttribute("controls"),this.hasStarted=!1,this.adjustStyle(),this.setVideoStatus("init"),this.normalControl(),this.playControl(),this.bottomControl(),this.voiceControl(),this.progressControl(),this.config.showVoiceToast&&this.voiceToastControl(),
this.config.initShowCustomControl||(this.hideCustomControl(),this.config.showWifiTip&&this.wifiLayer()),this.suspenseControl(),this.rateControl(),this.fullScreenControl(),this.bindEvent()))},t.prototype.addVoiceHide=function(){var t=this;this.config.newVoiceIcon||(this.removeVoiceHide(),this.voiceHideTimer=setTimeout(function(){t.voiceInnerDom&&L.addClass(t.voiceInnerDom,"voiceHide")},5e3))},t.prototype.removeVoiceHide=function(){
this.voiceInnerDom&&L.hasClass(this.voiceInnerDom,"voiceHide")&&L.removeClass(this.voiceInnerDom,"voiceHide"),this.voiceHideTimer&&clearTimeout(this.voiceHideTimer)},t.prototype.bindEvent=function(){var t=this;this.on("playing.control",function(){t.hasStarted||(t.hasStarted=!0,t.handleFirstTime()),t.startLoading&&!t.controlShow&&(L.hide(t.playControlDom),t.startLoading=!1),t.controlShow&&t.setCustomControlTimer(),t.setVideoStatus("play"),t.showPlayBtn("play"),
t.simpleControlLoadDom&&L.hide(t.simpleControlLoadDom),t.clearLoadingTimer(),t.addVoiceHide()}),this.on("play",function(){t.setVideoStatus("play"),t.showPlayBtn("play"),"normalControl"!==t.layerStatus&&t.showNormalControl()}),this.on("pause.control",function(){t.setVideoStatus("pause"),t.onlyShowProgressBar||(t.showPlayBtn("pause"),t.showCustomControl())}),this.on("waiting",function(){t.startLoading=!0,t.setVideoStatus("load"),t.circlePointMoving||(t.showPlayBtn("load"),
L.show(t.playControlDom)),t.clearLoadingTimer(),t.loadingTimer=setTimeout(function(){t.showRetryControl()},15e3)}),this.on("timeupdate",function(){t.setTime(),t.handlePlayedBar(),t.handleLoadedBar()}),this.on("durationchange",function(){t.setTime()}),this.on("ended",function(){t.setVideoStatus("end"),t.showRetryControl(),t.handleLoadedBar()}),this.on("error",function(){t.get("src")&&(t.setVideoStatus("error"),t.toggleControl("error"))})},t.prototype.handleFirstTime=function(){
!this.controlTimer&&this.controlShow&&this.setCustomControlTimer()},t.prototype.showPlayBtn=function(t){t+="Svg";for(var e=L.findDom("div",this.playControlDom),o=0;o<e.length;o++)L.hide(e[o]);var i=L.findDom("."+t,this.playControlDom);if(i.length>0)L.show(i[0]);else{var n=t+"Dom";this[n]=this[t](),L.append(this.playControlDom,this[n])}},t.prototype.clearLoadingTimer=function(){this.loadingTimer&&(clearTimeout(this.loadingTimer),this.loadingTimer=null)},t.prototype.showNormalControl=function(t){
this.clearAllTimer(),this.toggleControl("normal"),this.setCustomControlTimer(!0),this.play(),t&&this.proxy.player.emit(t,{videoStatus:G[1]})},t.prototype.clearAllTimer=function(){this.clearLoadingTimer(),this.clearControlTimer(),this.clearEndDestroyTimer(),this.clearWifiLayerTimer(),this.clearPlayedBarTimer(),this.clearVoiceHideTimer()},t.prototype.clearVoiceHideTimer=function(){this.voiceHideTimer&&(clearTimeout(this.voiceHideTimer),this.voiceHideTimer=null)},
t.prototype.clearPlayedBarTimer=function(){this.playedBarTimer&&(clearTimeout(this.playedBarTimer),this.playedBarTimer=null)},t.prototype.toggleControl=function(t){if(this.setLayerStatus(t),!this.validVideoStatus("end")||!this.config.noReplayBtn){for(var e=X[t],o=L.findDom(".controlContainer",this.videoParent),i=0;i<o.length;i++)L.hide(o[i]);var n=L.findDom("."+e+"Container",this.videoParent);if(n.length>0?L.show(n[0]):this[e](),e===X.retry){var r="";this.validVideoStatus("end")?(r="重播",
this.endLogicHandle()):r=this.validVideoStatus("error")?"播放失败，点击重试":"网络不给力，请稍后重试",this.retryTip.innerHTML=r}}},t.prototype.setTime=function(){this.seenTimeDom.innerHTML=this.formatTime(this.get("currentTime"));var t=this.get("duration")===1/0||isNaN(this.get("duration"));if(!t||0!==this.config.duration){var e=(t?this.transTime(this.config.duration):this.get("duration"))-this.get("currentTime");this.overTimeDom.innerHTML=this.formatTime(e)}},t.prototype.handlePlayedBar=function(){
this.nopPlayedDom.style.width=100*this.get("currentTime")/this.duration+"%",this.playedDom.style.width=this.nopPlayedDom.style.width},t.prototype.handleLoadedBar=function(){var t=this.get("buffered");if(t&&t.length>0){for(var e=t.end(t.length-1),o=0,i=t.length;o<i;o++)if(this.get("currentTime")>=t.start(o)&&this.get("currentTime")<=t.end(o)){e=t.end(o);for(var n=o+1;n<t.length;n++)if(t.start(n)-t.end(n-1)>=2){e=t.end(n-1);break}break}var r=100*e/this.duration+"%"
;this.nopLoadedDom&&(this.nopLoadedDom.style.width=r),this.loadedDom&&(this.loadedDom.style.width=r)}},t.prototype.endLogicHandle=function(){var t=this;this.endDestroyTimer=setTimeout(function(){t.toggleControl("poster")},4e3)},t.prototype.clearEndDestroyTimer=function(){this.endDestroyTimer&&(clearTimeout(this.endDestroyTimer),this.endDestroyTimer=null)},t.prototype.clearWifiLayerTimer=function(){this.wifiLayerTimer&&(clearTimeout(this.wifiLayerTimer),this.wifiLayerTimer=null)},
t.prototype.showRetryControl=function(){this.validLayerStatus(0)&&(this.validVideoStatus("end")?this.currentTime=0:this.pause(),this.toggleControl("retry"))},t.prototype.retryControl=function(){var t=this;this.retryControlDom=L.createDom("div","","retryControlContainer controlContainer"),L.append(this.videoParent,this.retryControlDom),this.retryMidDom=L.createDom("div","","retryMidArea"),this.retryMidDom.setAttribute("rl-type","stop"),L.append(this.retryControlDom,this.retryMidDom),
this.retrySvgDom=this.validVideoStatus("end")?this.retryPlaySvg():this.retrySvg(),L.append(this.retryMidDom,this.retrySvgDom),this.retryTip=L.createDom("div","","retryTip"),this.retryTip.setAttribute("rl-type","stop"),L.append(this.retryMidDom,this.retryTip),this.retryMidDom.addEventListener("click",function(){t.clearEndDestroyTimer(),t.showNormalControl("playBtnClicked")})},t.prototype.posterControl=function(){var t=this
;this.posterControlDom=L.createDom("div",'<img src="'+this.config.poster+'">',"posterControlContainer controlContainer");var e=this.pauseSvg();L.append(this.posterControlDom,e),L.findDom(".posterControlContainer",this.videoParent).length>0?L.show(this.posterControlDom):(L.append(this.videoParent,this.posterControlDom),e.addEventListener("click",function(){t.showNormalControl("playBtnClicked")}))},t.prototype.validLayerStatus=function(t){return this.layerStatus===X[t]},
t.prototype.adjustStyle=function(){this.statusBtnSize=48,"10N"===this.config.cardType&&(L.addClass(this.videoParent,"tenN"),this.statusBtnSize=38)},t.prototype.setVideoStatus=function(t){this.videoStatus=G[t]},t.prototype.normalControl=function(){var t=this;this.normalControlDom=L.createDom("div","","normalControlContainer controlContainer"),this.normalControlDom.setAttribute("rl-type","stop"),L.append(this.videoParent,this.normalControlDom),this.setLayerStatus("normal"),this.controlShow=!0,
this.proxy.player.emit("controlShowChange",{controlShow:this.controlShow}),this.normalControlDom.addEventListener("click",function(){t.switchCustomControl()})},t.prototype.setLayerStatus=function(t){this.layerStatus=X[t]},t.prototype.switchCustomControl=function(){this.rateListShow?(this.hideRateList(),this.hideCustomControl()):this.controlShow?this.hideCustomControl():(this.showCustomControl(),this.setCustomControlTimer())},t.prototype.showCustomControl=function(){this.controlShow=!0,
this.proxy.player.emit("controlShowChange",{controlShow:this.controlShow}),this.clearControlTimer(),L.show(this.playControlDom),L.show(this.bottomControlDom),this.suspenseBtnDom&&L.show(this.suspenseBtnDom),L.hide(this.nopProgressBarDom)},t.prototype.clearControlTimer=function(){this.controlTimer&&(clearTimeout(this.controlTimer),this.controlTimer=null)},t.prototype.setCustomControlTimer=function(t){this.paused&&!t||(this.clearControlTimer(),
this.controlTimer=setTimeout(this.hideCustomControl.bind(this),5e3))},t.prototype.hideCustomControl=function(){this.controlShow=!1,this.proxy.player.emit("controlShowChange",{controlShow:this.controlShow}),this.validVideoStatus("load")||L.hide(this.playControlDom),L.hide(this.bottomControlDom),this.suspenseBtnDom&&L.hide(this.suspenseBtnDom),this.rateListShow||L.show(this.nopProgressBarDom),L.hide(this.voiceToastDom)},t.prototype.validVideoStatus=function(t){return this.videoStatus===G[t]},
t.prototype.playControl=function(){var t=this;this.playControlDom=L.createDom("div","","playControlContainer"),this.playControlDom.setAttribute("rl-type","stop"),L.append(this.normalControlDom,this.playControlDom),this.pauseSvgDom=this.pauseSvg(),L.append(this.playControlDom,this.pauseSvgDom);var e=!1;this.playControlDom.addEventListener("click",function(o){switch(o.stopPropagation(),e||(L.hide(t.voiceToastDom),e=!0),t.videoStatus){case G.end:t.player.currentTime=0;case G.init:case G.pause:
t.play(),setTimeout(function(){t.proxy.player.emit("playBtnClicked",{videoStaus:t.videoStatus})},0);break;case G.play:t.pause(),setTimeout(function(){t.proxy.player.emit("playBtnClicked",{videoStaus:t.videoStatus})},0)}})},t.prototype.bottomControl=function(){this.bottomControlDom=L.createDom("div","","bottomControlContainer"),this.bottomControlDom.setAttribute("rl-type","stop"),L.append(this.normalControlDom,this.bottomControlDom);var t=L.createDom("div","","bgGradient")
;L.append(this.bottomControlDom,t)},t.prototype.voiceControl=function(){var t=this;this.voiceControlDom=L.createDom("div","","voiceControlContainer"),this.voiceControlDom.setAttribute("rl-type","stop"),L.append(this.bottomControlDom,this.voiceControlDom),L.append(this.voiceControlDom,this.get("muted")?this.voiceOffSvgDom=this.voiceOffSvg():this.voiceOpenSvgDom=this.voiceOpenSvg());var e=this.get("muted");this.voiceControlDom.addEventListener("click",function(o){o.stopPropagation(),
e&&(L.hide(t.voiceToastDom),e=!1),t.toggleVoiceControl()})},t.prototype.toggleVoiceControl=function(){for(var t=L.findDom(".voiceIcon",this.voiceControlDom),e=0;e<t.length;e++)L.hide(t[e]);var o="voice"+(this.get("muted")?"Open":"Off")+"Svg",i=o+"Dom",n=!this.get("muted");this.player.muted=n,this.proxy.player.emit("voiceBtnClicked",{muted:this.get("muted")}),n?(L.show(this.nopVoiceOffDom),L.hide(this.nopVoiceOpenDom)):(L.hide(this.nopVoiceOffDom),L.show(this.nopVoiceOpenDom)),
this[i]?L.show(this[i]):(this[i]=this[o](),L.append(this.voiceControlDom,this[i]))},t.prototype.progressControl=function(){this.progressControlDom=L.createDom("div","","progress-control-container"),this.progressControlDom.setAttribute("rl-type","stop"),L.append(this.bottomControlDom,this.progressControlDom),this.seenTime(),this.progressBar(),this.nopProgressBar(),this.overTime()},t.prototype.seenTime=function(){this.seenTimeDom=L.createDom("div","00:00","seenTime"),
L.append(this.progressControlDom,this.seenTimeDom)},t.prototype.overTime=function(){var t=this.get("duration")===1/0||isNaN(this.get("duration"));this.overTimeDom=L.createDom("div",t?this.formatTime(this.transTime(this.config.duration)):this.formatTime(this.get("duration")),"overTime"),L.append(this.progressControlDom,this.overTimeDom)},t.prototype.progressBar=function(){this.progressBarDom=L.createDom("div","","progressBarContainer"),L.append(this.progressControlDom,this.progressBarDom),
this.durationBarDom=L.createDom("div","","durationBarContainer"),L.append(this.progressBarDom,this.durationBarDom),this.loadedDom=L.createDom("div","","loadedBar"),L.append(this.durationBarDom,this.loadedDom),this.playedDom=L.createDom("div","","playedBar"),L.append(this.durationBarDom,this.playedDom),this.pointDom=L.createDom("div","","circlePoint"),L.append(this.playedDom,this.pointDom),this.realPointDom=L.createDom("div","","bigCirclePoint"),L.append(this.playedDom,this.realPointDom),
this.movePoint()},t.prototype.movePoint=function(){var t=this,e=0,o=!1;this.realPointDom.addEventListener("touchstart",function(o){o.stopPropagation(),t.setCustomControlTimer(),t.durationBarWidth=t.durationBarDom.getBoundingClientRect().width,t.playedBarLeft=t.playedDom.getBoundingClientRect().left,e=t.get("currentTime"),t.proxy.player.emit("pointTouchStart",{touchStartTime:e})}),this.realPointDom.addEventListener("touchmove",function(e){e.preventDefault(),e.stopPropagation(),
o||(L.hide(t.voiceToastDom),o=!0),t.setCustomControlTimer(),t.handleTouchEvent(e),t.circlePointMoving=!0;var i=e.clientX-t.playedBarLeft>t.durationBarWidth?t.durationBarWidth:e.clientX-t.playedBarLeft,n=i/t.durationBarWidth*t.duration;t.playedDom.style.width=100*i/t.durationBarWidth+"%",t.player.currentTime=Number(n).toFixed(1),t.proxy.player.emit("pointTouchMove",{currentTime:t.get("currentTime")})}),this.realPointDom.addEventListener("touchend",function(o){if(o.stopPropagation(),
t.handleTouchEvent(o),!t.circlePointMoving){var i=o.clientX-t.playedBarLeft,n=i/t.durationBarWidth*t.duration;t.playedDom.style.width=100*i/t.durationBarWidth+"%",t.player.currentTime=Number(n).toFixed(1)}t.circlePointMoving=!1,t.proxy.player.emit("pointTouchEnd",{touchStartTime:e,currentTime:t.get("currentTime")})})},t.prototype.nopProgressBar=function(){var t=this;this.nopProgressBarDom=L.createDom("div","","nopProgressBar "+(this.config.initShowCustomControl?"controlHide":"")),
L.append(this.normalControlDom,this.nopProgressBarDom),this.nopVoiceOffDom=this.voiceOffSvg(),L.addClass(this.nopVoiceOffDom,"nopVoiceOff "+(this.get("muted")?"":"controlHide")),L.append(this.nopProgressBarDom,this.nopVoiceOffDom),this.nopVoiceOffDom.addEventListener("click",function(e){e.stopPropagation(),L.hide(t.nopVoiceOffDom),t.toggleVoiceControl()}),this.nopVoiceOpenDom=this.voiceOpenSvg(),L.addClass(this.nopVoiceOpenDom,"nop-voice-open "+(this.get("muted")?"controlHide":"")),
L.append(this.nopProgressBarDom,this.nopVoiceOpenDom),this.nopVoiceOpenDom.addEventListener("click",function(e){e.stopPropagation(),L.hide(t.nopVoiceOpenDom),t.toggleVoiceControl()}),this.initNopRateToast(),this.nopLoadedDom=L.createDom("div","","nopLoadedBar"),L.append(this.nopProgressBarDom,this.nopLoadedDom),this.nopPlayedDom=L.createDom("div","","nopPlayedBar"),L.append(this.nopProgressBarDom,this.nopPlayedDom)},t.prototype.initNopRateToast=function(){
this.nopRateToastDom=L.createDom("div","","nop-rate-toast"),L.append(this.nopProgressBarDom,this.nopRateToastDom),L.hide(this.nopRateToastDom)},t.prototype.updateNopRateToast=function(t){var e=this;void 0===t&&(t=""),this.nopRateToastDom&&(this.nopRateToastDom.innerText=t,this.rateToastTimer&&clearTimeout(this.rateToastTimer),t?(L.show(this.nopRateToastDom),this.rateToastTimer=setTimeout(function(){L.hide(e.nopRateToastDom)},3e3)):L.hide(this.nopRateToastDom))},
t.prototype.voiceToastControl=function(){this.voiceToastDom=this.voiceToastDiv(),this.voiceToastDom.setAttribute("rl-type","stop"),L.addClass(this.voiceToastDom,"voiceToastPosi "+(this.get("muted")?"":"controlHide")),L.append(this.bottomControlDom,this.voiceToastDom)},t.prototype.wifiLayer=function(){var t=this;this.wifiTipContainerDom?L.show(this.wifiTipContainerDom):(this.wifiTipContainerDom=L.createDom("div","正在非WIFI环境下观看","wifiTipContainer"),
L.append(this.videoParent,this.wifiTipContainerDom)),this.wifiLayerTimer=setTimeout(function(){L.hide(t.wifiTipContainerDom)},3e3)},t.prototype.suspenseControl=function(){var t,e,o,i=this;"2"===(null===(o=null===(e=null===(t=window.page)||void 0===t?void 0:t.comm)||void 0===e?void 0:e.sampleval)||void 0===o?void 0:o.DQA_TRUSTPAPER_VIDEO)&&y.default.isIOS()&&(this.suspenseBtnDom=this.enterSuspenseSvg(),L.append(this.normalControlDom,this.suspenseBtnDom),
this.suspenseBtnDom.addEventListener("click",function(){i.player.enterSuspense()}))},t.prototype.rateControl=function(){var t,e,o,i=this;-1!==["1","2"].indexOf(null===(o=null===(e=null===(t=window.page)||void 0===t?void 0:t.comm)||void 0===e?void 0:e.sampleval)||void 0===o?void 0:o.DQA_TRUSTPAPER_VIDEO)&&(this.progressControlDom&&L.addClass(this.progressControlDom,"has-rate"),this.rateControlDom=L.createDom("div","","rate-control-container c-fwb"),
this.rateControlDom.setAttribute("rl-type","stop"),L.append(this.bottomControlDom,this.rateControlDom),this.rateBtnDom=L.createDom("div","倍速","rateSvg"),L.append(this.rateControlDom,this.rateBtnDom),this.rateListInit(),this.rateControlDom.addEventListener("click",function(t){t.stopPropagation(),i.showRateList(),i.proxy.player.emit("rateBtnClicked",{text:"倍速"})}))},t.prototype.updateRateControlText=function(t){void 0===t&&(t="倍速"),this.rateControlDom&&(this.rateControlDom.innerText=t)},
t.prototype.rateListInit=function(){var t=this;this.rateListDom=L.createDom("div","","flex-col-center rate-list-container",{"rl-type":"stop"}),["2.0","1.5","1.25","1.0","0.75","0.5"].forEach(function(e){var o=t.createRateItem(e,1==+e);L.append(t.rateListDom,o)}),L.append(this.normalControlDom,this.rateListDom)},t.prototype.createRateItem=function(t,e){var o=this;void 0===e&&(e=!1);var i=L.createDom("div",t+"X","flex-col-center rate-list-item c-fwb");return e&&(L.addClass(i,"init-rate active"),
this.rateActiveItemDom=i),i.addEventListener("click",function(e){var i=null==e?void 0:e.target;if(i&&!L.hasClass(i,"active")){L.removeClass(o.rateActiveItemDom,"active"),L.addClass(i,"active"),o.rateActiveItemDom=i,o.player.setRate(+t);var n="1.0"===t?"":t+"X";o.updateNopRateToast(n),o.updateRateControlText(n||"倍速")}}),i},t.prototype.hideRateList=function(){this.rateListDom&&(this.rateListShow=!1,L.removeClass(this.rateListDom,"show"))},t.prototype.showRateList=function(){
this.rateListDom&&(this.rateListShow=!0,L.addClass(this.rateListDom,"show"),this.hideCustomControl())},t.prototype.fullScreenControl=function(){var t=this;this.screenControlDom=L.createDom("div","","screenControlContainer"),L.append(this.bottomControlDom,this.screenControlDom),this.fullScreenSvgDom=this.fullScreenSvg(),L.append(this.screenControlDom,this.fullScreenSvgDom),this.fullScreenStatus=!1;var e=!1;this.screenControlDom.addEventListener("click",function(o){o.stopPropagation(),
e||(L.hide(t.voiceToastDom),e=!0),t.toggleScreenControl()}),this.on("webkitendfullscreen",function(){t.fullScreenStatus=!1,t.proxy.player.emit("fullScreen",{fullscreen:t.fullScreenStatus}),L.hide(L.findDom(".exitScreenSvg",t.screenControlDom)[0]),L.show(L.findDom(".fullScreenSvg",t.screenControlDom)[0])}),["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"].forEach(function(e){document.addEventListener(e,function(){
var e=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;e&&e===t.root?t.fullScreenStatus=!0:(t.fullScreenStatus=!1,t.proxy.player.emit("fullScreen",{fullscreen:t.fullScreenStatus}),L.hide(L.findDom(".exitScreenSvg",t.screenControlDom)[0]),L.show(L.findDom(".fullScreenSvg",t.screenControlDom)[0]))})})},t.prototype.toggleScreenControl=function(){
for(var t=this,e=L.findDom(".screen",this.screenControlDom),o=0;o<e.length;o++)L.hide(e[o]);var i=this.fullScreenStatus?"fullScreenSvg":"exitScreenSvg",n=i+"Dom";this.fullScreenStatus?(this.player.exitFullscreen(),setTimeout(function(){var e;t.player.video.style.objectFit=(null===(e=t.config.extra)||void 0===e?void 0:e.objectFit)||"cover"},200)):(this.player.requestFullscreen(),this.player.video.style.objectFit="contain"),this.fullScreenStatus=!this.fullScreenStatus,
this.proxy.player.emit("fullScreen",{fullscreen:this.fullScreenStatus}),this[n]?L.show(this[n]):(this[n]=this[i](),L.append(this.screenControlDom,this[n]))},t.prototype.destroy=function(){this.clearAllTimer(),this.normalControlDom&&L.remove(this.normalControlDom),this.retryControlDom&&L.remove(this.retryControlDom),this.simpleControlDom&&L.remove(this.simpleControlDom),this.customVoiceDom&&L.remove(this.customVoiceDom),this.customProgressDom&&L.remove(this.customProgressDom),
this.voiceOpenSvg2Dom2=null,this.voiceOffSvg2Dom2=null,this.voiceOpenSvgDom=null,this.voiceOffSvgDom=null,this.customVoiceDom=null,this.customProgressDom=null},t.prototype.handleTouchEvent=function(t){if(t.touches){var e=t.touches[0]||t.changedTouches[0];t.clientX=e.clientX||0}},t.prototype.transTime=function(t){if(!t)return"";var e=t.split(";"),o=0;return o=3===e.length?3600*e[0]+60*e[1]+e[2]:2===e.length?60*e[0]+e[1]:e[0],o=Math.floor(o/1.1)},t.prototype.formatTime=function(t){
if(window.isNaN(t)||t===1/0)return"";t=Math.floor(t);var e=Math.floor(t/60)+"",o=t%60;return(e=1===e.length?"0"+e:e)+":"+(o=o<10?"0"+o:o)},t.prototype.pauseSvg=function(){return L.createDom("div",'<img width="'+this.statusBtnSize+'px" height="'+this.statusBtnSize+'px" src="'+(38===this.statusBtnSize?"https://mms-mis.cdn.bcebos.com/se-video/pause_10n.svg":"https://gips3.baidu.com/it/u=1107503566,150824228&fm=3028&app=3028&f=PNG&fmt=auto&q=90&size=f144_144")+'" />',"pauseSvg")},
t.prototype.playSvg=function(){return L.createDom("div",'<img width="'+this.statusBtnSize+'px" height="'+this.statusBtnSize+'px" src="'+(38===this.statusBtnSize?"https://mms-mis.cdn.bcebos.com/se-video/play_10n.svg":"https://gips3.baidu.com/it/u=338339686,4203276818&fm=3028&app=3028&f=PNG&fmt=auto&q=75&size=f144_144")+'" />',"playSvg")},t.prototype.loadSvg=function(){
return L.createDom("div",'<svg width="'+this.statusBtnSize+'px" height="'+this.statusBtnSize+'px" viewBox="0 0 144 144" xmlns="http://www.w3.org/2000/svg"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-dasharray="80,1000" stroke-linecap="round" stroke-linejoin="round"><g transform="translate(-5383.000000, -2530.000000)" stroke="#FFFFFF" stroke-width="6"><g transform="translate(5383.000000, 2530.000000)"><path d="M72,117 C96.8528137,117 117,96.8528137 117,72 C117,47.1471863 96.8528137,27 72,27 C47.1471863,27 27,47.1471863 27,72 C27,96.8528137 47.1471863,117 72,117 Z"></path></g></g></g></svg>',"loadSvg")
},t.prototype.retrySvg=function(){return L.createDom("div",'<img width="'+this.statusBtnSize+'px" height="'+this.statusBtnSize+'px" src="'+(38===this.statusBtnSize?"https://mms-mis.cdn.bcebos.com/se-video/retry_10n.svg":"https://mms-mis.cdn.bcebos.com/se-video/retry.svg")+'" />',"retrySvg")},t.prototype.retryPlaySvg=function(){
return L.createDom("div",'<img width="'+this.statusBtnSize+'px" height="'+this.statusBtnSize+'px" src="'+(38===this.statusBtnSize?"https://mms-mis.cdn.bcebos.com/se-video/retry_play_10n.svg":"https://mms-mis.cdn.bcebos.com/se-video/retry_play.svg")+'" />',"retryPlaySvg")},t.prototype.voiceOpenSvg=function(){return L.createDom("div",'<img width="24px" height="24px" src="https://psstatic.cdn.bcebos.com/video/viode-open_1661844018000.png" />',"voiceOpenSvg voiceIcon")},
t.prototype.voiceOffSvg=function(){return L.createDom("div",'<img width="24px" height="24px" src="https://psstatic.cdn.bcebos.com/video/voice-close_1661844009000.png" />',"voiceOffSvg voiceIcon")},t.prototype.voiceOpenSvg2=function(){var t=this.config.newVoiceIcon?'<img width="100%" height="100%" src="https://psstatic.cdn.bcebos.com/video/viode-open_1661844018000.png" />':'<img width="38px" height="28px" src="https://mms-mis.cdn.bcebos.com/se-video/voice-open-icon.png" />'
;return L.createDom("div",t,"voiceOpenSvg2 voice2")},t.prototype.voiceOffSvg2=function(){var t=this.config.newVoiceIcon?'<img width="100%" height="100%" src="https://psstatic.cdn.bcebos.com/video/voice-close_1661844009000.png" />':'<img width="38px" height="28px" src="https://mms-mis.cdn.bcebos.com/se-video/voice-off-icon.png" />';return L.createDom("div",t,"voiceOffSvg2 voice2")},t.prototype.fullScreenSvg=function(){
return L.createDom("div",'<img width="24px" height="24px" src="https://gips1.baidu.com/it/u=1038124887,2806807220&fm=3028&app=3028&f=PNG&fmt=auto&q=75&size=f72_72" />',"fullScreenSvg screen")},t.prototype.exitScreenSvg=function(){return L.createDom("div",'<img width="24px" height="24px" src="https://gips3.baidu.com/it/u=3266134657,2613558491&fm=3028&app=3028&f=PNG&fmt=auto&q=75&size=f72_72" />',"exitScreenSvg screen")},t.prototype.enterSuspenseSvg=function(){
return L.createDom("div",'<img width="25px" height="24px" src="https://gips0.baidu.com/it/u=4281760449,2333658429&fm=3028&app=3028&f=PNG&fmt=auto&q=75&size=f65_63" />',"enter-suspense-btn")},t.prototype.voiceToastDiv=function(){return L.createDom("div","点击按钮即可有声播放","voiceToastContainer")},t.prototype.simpleLoadIcon=function(){
var t='<img width="40px" height="40px" src="'+(this.config.useBoldLoading?"https://psstatic.cdn.bcebos.com/video/splayer/loading_1660643943000.png":"https://mms-mis.cdn.bcebos.com/se-video/load_1.svg")+'" />';return L.createDom("div",t,"loadSvg")},t}(),Y=function(){var t={pid:"1_5",lid:(new Date).getTime(),pf_comm:{sample:.01},et_comm:{sample:.01},cus_vd_play_time:{sample:1},dist_comm:{sample:.1},count_comm:{sample:.01}}
;return-1!==document.cookie.indexOf("webbtest=1")&&["pf_comm","et_comm","cus_vd_play_time","dist_comm","count_comm"].forEach(function(e){t[e].sample=1}),new w.default(t)},J=Y(),Z=window.pageComm||{},Q=function(){function t(t,e){var o,i,n,r,s,a,l;this.pauseDuration=0,this.isFirstPlay=!0,this.videoClarity="",this.videoLog={ua:"undefined"!=typeof navigator?navigator.userAgent:"",status:{initSend:!1,waiting:!1},time:{click:-1,loadedplayer:0,loadstart:0,loadedmetadata:0,loadeddata:0},expand:{
clk_2_loadedplayer:0,dns_analysis:0,dns_2_connect:0,connect_2_loadstart:0,loadedplayer_2_loadstart:0,loadstart_2_loadmetadata:0,loadmetadata_2_loadeddata:0,loadeddata_2_playing:0,loadedplayer_2_playing:0,clk_2_playing:0,clk_2_canplay:0,clk_2_recload:-1},ext:{loopTimes:1},type:0},this.canPlayTime=0,this.playingTime=0,this.waitingStart=0,this.startTime=0,this.pfLog={},this.perfInfo={},this.proxy=t,this.config=(null==e?void 0:e.config)||{},this.videoConfig=this.proxy.player.config.videoConfig,
this.network=(null===(o=this.proxy.player.config.extra)||void 0===o?void 0:o.network)||"unknown",this.loopTimes=null===(i=this.proxy.player.config.extra)||void 0===i?void 0:i.loopTimes,this.lastTime=null===(n=this.proxy.player.config.extra)||void 0===n?void 0:n.lastTime,this.isFirstPlay=null===(r=this.proxy.player.config.extra)||void 0===r?void 0:r.isFirstPlay,this.startTime=null===(s=this.proxy.player.config.extra)||void 0===s?void 0:s.startTime,
this.pfLog=null===(a=this.proxy.player.config.extra)||void 0===a?void 0:a.pfLog,this.perfInfo=(null===(l=this.proxy.player.config.extra)||void 0===l?void 0:l.perfInfo)||{},this.init()}return t.prototype.on=function(t,e){this.proxy.off(t).on(t,e)},t.prototype.one=function(t,e){this.proxy.off(t).one(t,e)},t.prototype.off=function(t){this.proxy.off(t)},t.prototype.get=function(t){return this.proxy.getAttr(t)},t.prototype.init=function(){var t=this;this.setTimeEvents(),
this.browser=this.getBrowser(),this.system=this.getSystem(),this.on("loadedplayer",function(){t.playstart=!0,t.logPreset()}),this.on("sendslrLog",function(e){var o,i,n,r,s;switch(null==e?void 0:e.type){case"perf":e.queryfail>0&&J.send("et_comm",{msg:"openSlrFail"},{scene:(null===(o=t.config.value)||void 0===o?void 0:o.toLowerCase())||"selfbuild",bdversion:null===(i=e.model)||void 0===i?void 0:i.bdVersion,systemverison:null===(n=e.model)||void 0===n?void 0:n.systemVersion,
deviceinfo:(s=null===(r=e.model)||void 0===r?void 0:r.deviceInfo,
/iPhone7,1/.test(s)?"6Plus":/iPhone7,2/.test(s)?"6":/iPhone8,1/.test(s)?"6S":/iPhone8,2/.test(s)?"6SPlus":/iPhone8,4/.test(s)?"SE":/iPhone9,1/.test(s)||/iPhone9,3/.test(s)?"7":/iPhone9,2/.test(s)||/iPhone9,4/.test(s)?"7Plus":/iPhone10,1/.test(s)||/iPhone10,4/.test(s)?"8":/iPhone10,2/.test(s)||/iPhone10,5/.test(s)?"8Plus":/iPhone10,3/.test(s)||/iPhone10,6/.test(s)?"X":/iPhone11,2/.test(s)?"XS":/iPhone11,4/.test(s)||/iPhone11,6/.test(s)?"XSMax":/iPhone11,8/.test(s)?"XR":/iPhoneiPhone12,1/.test(s)?"11":/iPhoneiPhone12,3/.test(s)?"11Pro":/iPhoneiPhone12,5/.test(s)?"11ProMax":/iPhoneiPhone12,8/.test(s)?"SE2":/iPhoneiPhone13,1/.test(s)?"12Mini":/iPhoneiPhone13,2/.test(s)?"12":/iPhoneiPhone13,3/.test(s)?"12Pro":/iPhoneiPhone13,4/.test(s)?"12ProMax":"other")
},null,{group:"openSlrFail"})}})},t.prototype.setTimeEvents=function(){this.timeEvents={dataready:1e-7,onefifth:.2,fourfifths:.8,onehalf:.5,playend:1}},t.prototype.reset=function(t){"object"==typeof t&&(this.config=L.extend(this.config,t.config)),this.firstCanPlayTime=0},t.prototype.logPreset=function(){this.videoLog.time.click=this.config.startTime,this.videoLog.time.loadedplayer=+new Date,this.videoLog.status.initSend=!1,this.videoLog.ext.loopTimes=1,this.videoLog.browser=this.browser,
this.videoLog.isBaidubox="baidubox"===this.videoLog.browser?1:0,this.videoLog.system=this.system,this.videoLog.domain=this.getDomain(),this.sendLog("tryPlayLog"),this.supportSendLog()&&(this.videoLoadingLog(),this.checkVideoOther()),this.checkVvLogConfig()&&this.vvLog(),this.proxy.player.type!==B&&this.sendErrorLog()},t.prototype.getBrowser=function(){
return y.default.isBaiduBox()?"baidubox":y.default.isTomas()?"baidubox tomas":y.default.isBaiduBoxJisu()?"baidubox jisu":y.default.isBaiduBoxLite()?"baidubox lite":y.default.isSafariBrowser()?"safari":y.default.isChromeMobile()||y.default.isCriOS()?"chrome":y.default.isSearchCraft()?"searchCraft":y.default.isQQBrowser()?"qq":y.default.isUC()?"uc":y.default.isMiuiBrowser()?"xiaomi":this.isVivoBrowser()?"vivo":this.isOppoBrowser()?"oppo":"other"},t.prototype.isSafariBrowser=function(){var t=!1
;return/Version\/([\d.]+)([^S](Safari)|[^M]*(Mobile)[^S]*(Safari\/[^a-z]+)$)/i.test(this.videoLog.ua)&&y.default.isIOS()&&(t=!0),t},t.prototype.isVivoBrowser=function(){var t=!1;return/vivobrowser/i.test(this.videoLog.ua)&&(t=!0),t},t.prototype.isOppoBrowser=function(){var t=!1;return/oppobrowser/i.test(this.videoLog.ua)&&(t=!0),t},t.prototype.getSystem=function(){var t="other";return y.default.isAndroid()?t="android":y.default.isIOS()&&(t="ios"),t},t.prototype.getDomain=function(){
var t="other",e=this.get("src").match(/^https?:\/\/(vd(se|1|2|3)).bdstatic.com/);return e&&(t=e[1]),t},t.prototype.videoLoadingLog=function(){var t=this;this.on("loadstart.loadlog",function(){t.videoLog.time.loadstart=+new Date}),this.on("loadedmetadata.loadlog",function(){t.videoLog.time.loadedmetadata=+new Date}),this.on("loadeddata.loadlog",function(){t.videoLog.time.loadeddata=+new Date}),this.proxy.player.type!==B&&this.on("waiting.loadlog",function(){t.waitingStart=+new Date,
t.waitTimer&&clearTimeout(t.waitTimer),t.waitTimer=setTimeout(function(){t.playingTime<t.waitingStart&&t.sendLog("waiting")},150)}),this.on("canplay.loadlog",function(){t.canPlayTime=+new Date,t.firstCanPlayTime||(t.firstCanPlayTime=t.canPlayTime)}),this.on("playing.loadlog",function(){t.playingTime=+new Date,t.pauseTime&&(t.pauseDuration+=+new Date-t.pauseTime)}),this.on("pause.durationLog",function(){t.pauseTime=+new Date}),this.on("successPlay.loadlog",function(){
t.firstPlayingTime=Date.now(),t.getVideoClarity(),t.getPlayTime(),t.getDnsConnect(),t.getPlayExpand(),t.sendLog("playstart"),t.sendPerfLog(),t.checkSectionLogConfig()&&t.sendSectionLog()})},t.prototype.getVideoClarity=function(){if(this.proxy.player.video){var t=this.proxy.player.video,e=t.videoWidth,o=t.videoHeight,i=t.width,n=t.height;if(e||o||i||n){var r=!1,s=0;i&&n&&(s=Math.min(i,n),r=n>i),e&&o&&(s=Math.min(e,o),r=o>e),this.videoClarity=s<480||s<540&&r?"sd":s<720?"hd":s<1080?"sc":"1080p"
}else this.videoClarity="unknown"}},t.prototype.sendPerfLog=function(){var t,e,o,i=this,n=this.perfInfo||{},r=n.page,s=n.player;if(s){var a=[].concat(s);["loadedplayer","loadedmetadata","loadeddata"].forEach(function(t){a.push({key:t,value:i.videoLog.time[t]})}),a.push({key:"play",value:this.firstPlayingTime});var l=[].concat(r||[]).concat(a),d=l.reduce(function(t,e,o,i){return 0===o||(t[e.key+"-"+i[o-1].key]=e.value-i[o-1].value),t},{}),p=r&&r.length>0
;if(p&&(null===(t=window.performance)||void 0===t?void 0:t.timing)){var c=window.performance.timing;d["allPackage-firstPackage"]=c.responseEnd-c.responseStart}d[l[l.length-1].key+"-"+l[0].key]=l[l.length-1].value-l[0].value;var h=this.network.toLowerCase();if(J.send("pf_comm",d,{network:h,type:this.proxy.player.type.toLowerCase(),first:this.isFirstPlay,fscreen:p},null,{group:"fp_perf"}),
p&&!(Math.random()>.1)&&!C.default.canIUse("search.noticeVideoPerformanceStatistic")&&C.default.canIUse("search.updateVideoPerformanceData")){var u=this.config||{},m=u.from,g=void 0===m?"search":m,f=u.page,v=void 0===f?"video_a":f,y=u.value,b=void 0===y?"":y;C.default.search.updateVideoPerformanceData({ubcId:"5769",dim:{from:g,page:v,type:"fp_perf",value:b},info:a,ext:{network:h,os:this.system,sids:(null===(o=null===(e=window.page)||void 0===e?void 0:e.comm)||void 0===o?void 0:o.sids)||""}})}}},
t.prototype.getPlayTime=function(){this.videoLog.time.loadstart<this.videoLog.time.loadedplayer&&(this.videoLog.time.loadstart=this.videoLog.time.loadedplayer),this.videoLog.time.loadedmetadata<this.videoLog.time.loadedplayer&&(this.videoLog.time.loadedmetadata=this.videoLog.time.loadstart),this.videoLog.time.loadeddata<this.videoLog.time.loadedplayer&&this.videoLog.time.loadeddata>0&&(this.videoLog.time.loadeddata=this.videoLog.time.loadedmetadata),
0===this.videoLog.time.loadeddata&&(this.videoLog.time.loadeddata=+new Date),this.videoLog.status.initSend=!0},t.prototype.getDnsConnect=function(){var t=this;if(!window.performance||!window.performance.getEntriesByType)return this.videoLog.expand.dns_analysis=-1,void(this.videoLog.expand.dns_2_connect=-1);var e=window.performance.getEntriesByType("resource");e&&e.length>0&&e.forEach(function(e){
if(e.name.match(/^https*:\/\/vd(se|1|2|3|4).bdstatic.com/))return t.videoLog.expand.dns_analysis=e.domainLookupEnd-e.domainLookupStart,void(t.videoLog.expand.dns_2_connect=e.connectEnd-e.connectStart)})},t.prototype.getPlayExpand=function(){this.videoLog.expand.clk_2_loadedplayer=this.videoLog.time.loadedplayer-this.videoLog.time.click,
this.videoLog.expand.connect_2_loadstart=this.videoLog.time.loadstart-(this.videoLog.time.loadedplayer+this.videoLog.expand.dns_analysis+this.videoLog.expand.dns_2_connect),this.videoLog.expand.loadedplayer_2_loadstart=this.videoLog.time.loadstart-this.videoLog.time.loadedplayer,this.videoLog.expand.loadstart_2_loadmetadata=this.videoLog.time.loadedmetadata-this.videoLog.time.loadstart,this.videoLog.expand.loadmetadata_2_loadeddata=this.videoLog.time.loadeddata-this.videoLog.time.loadedmetadata,
this.videoLog.expand.loadeddata_2_playing=this.firstPlayingTime-this.videoLog.time.loadeddata,this.videoLog.expand.loadedplayer_2_playing=this.firstPlayingTime-this.videoLog.time.loadedplayer,this.videoLog.expand.clk_2_canplay=this.firstCanPlayTime-this.videoLog.time.click,this.videoLog.expand.clk_2_playing=this.firstPlayingTime-this.videoLog.time.click},t.prototype.emitSoundState=function(t,e){var o,i,n,r;J.send("et_comm",{msg:t},{muted:e,
tpl:(null===(o=this.config)||void 0===o?void 0:o.value)||"unknown",type:null===(r=null===(n=null===(i=this.proxy)||void 0===i?void 0:i.player)||void 0===n?void 0:n.type)||void 0===r?void 0:r.toLowerCase()},null,{group:"soundState"})},t.prototype.sendSectionLog=function(){var t=this,e=new Array(11).fill(0),o=0,i=[(new Date).getTime(),Math.random().toString(36).slice(2,8)].join("_");this.on("timeupdate.sectionlog",function(){var n=t.get("duration");if(!(n<10)){
var r=(new Date).getTime(),s=10*Math.floor(t.get("currentTime")/n*10);t.videoLog.ext.cent=s;var a=e[s/10];r-o>1500&&0===a&&(e[s/10]=1,o=r,t.sendLog("section",{vpid:i,playTime:t.get("currentTime")}))}})},t.prototype.sendErrorLog=function(){var t=this;this.on("error.log",function(){var e=t.get("error");switch(e||(e={code:999,msg:"unknow"}),e.code){case 1:e.msg="MEDIA_ERR_ABORTED";break;case 2:e.msg="MEDIA_ERR_NETWORK";break;case 3:e.msg="MEDIA_ERR_DECODE";break;case 4:
e.msg="MEDIA_ERR_SRC_NOT_SUPPORTED"}t.sendLog("error",e)})},t.prototype.sendLog=function(t,e){var o,i,n,r,s,a,l,d,p,c,h,u=this.config.loc||"",m=this.config.tplInfo||{};switch(t){case"playstart":var g=this.videoLog.expand;J.send("pf_comm",Object.assign({clk_2_loadedplayer:g.clk_2_loadedplayer,clk_2_canplay:g.clk_2_canplay,clk_2_playing:g.clk_2_playing},this.pfLog),{domain:this.videoLog.domain,net:this.network.toLowerCase(),type:this.proxy.player.type.toLowerCase(),first:this.isFirstPlay,
videoClarity:this.videoClarity,scene:(null===(o=this.config.value)||void 0===o?void 0:o.toLowerCase())||"selfbuild"},null,{group:"commonPerformance"});break;case"section":var f=this.config.sectionLog,v=this.config.tplInfo||{};J.send("cus_vd_play_time",{play_time:e.playTime,cent:this.videoLog.ext.cent+"%",duration:this.get("duration")},{network:this.network,type:"cent"},null,{ext:P(P({lid:v.lid||Z.lid||"",applid:Z.applid||"",srcid:v.srcid||"",frsrcid:v.srcid||"",q:v.word||Z.rawQuery||"",
nid:this.videoConfig.vid||"",vpid:e.vpid,play_scene:f.playScene||1,loc:u},f.ext),{loopTimes:this.loopTimes||this.videoLog.ext.loopTimes})});break;case"tryPlayLog":J.send("count_comm",{count:1},{type:this.proxy.player.type.toLowerCase(),from:(null===(i=this.config.from)||void 0===i?void 0:i.toLowerCase())||"selfbuild",page:(null===(n=this.config.page)||void 0===n?void 0:n.toLowerCase())||"selfbuild",scene:(null===(r=this.config.value)||void 0===r?void 0:r.toLowerCase())||"selfbuild"},null,{
group:"tryPlayCount"});break;case"error":J.send("et_comm",{msg:e.msg,videoSrc:this.get("src"),loc:u,lid:m.lid,nid:this.videoConfig.vid||this.videoConfig.nid,pageUrl:window.location.href},{domain:this.videoLog.domain,net:this.network.toLowerCase(),type:this.proxy.player.type.toLowerCase(),from:(null===(s=this.config.from)||void 0===s?void 0:s.toLowerCase())||"selfbuild",page:(null===(a=this.config.page)||void 0===a?void 0:a.toLowerCase())||"selfbuild",
scene:(null===(l=this.config.value)||void 0===l?void 0:l.toLowerCase())||"selfbuild",code:e.code},null,{group:"commonPlayFail"});break;case"waiting":J.send("et_comm",{msg:"playWaiting",videoSrc:this.get("src"),loc:u,lid:m.lid,nid:this.videoConfig.vid||this.videoConfig.nid,pageUrl:window.location.href},{domain:this.videoLog.domain,net:this.network.toLowerCase(),type:this.proxy.player.type.toLowerCase(),from:(null===(d=this.config.from)||void 0===d?void 0:d.toLowerCase())||"selfbuild",
page:(null===(p=this.config.page)||void 0===p?void 0:p.toLowerCase())||"selfbuild",scene:(null===(c=this.config.value)||void 0===c?void 0:c.toLowerCase())||"selfbuild"},null,{group:"playWaiting"});break;case"videoOther":J.send("et_comm",{msg:(null===(h=this.config.value)||void 0===h?void 0:h.toLowerCase())||"selfbuild",videoSrc:this.get("src"),loc:u,lid:m.lid,nid:this.videoConfig.vid||this.videoConfig.nid,pageUrl:window.location.href,env:m.env||"unknown",tplname:m.tplname||"unknown"},{
type:this.proxy.player.type.toLowerCase()},null,{group:"videoOther"})}},t.prototype.vvLog=function(){var t,e=this,o=null===(t=window.page)||void 0===t?void 0:t.log;if("function"==typeof(null==o?void 0:o.send)){var i={ct:88,cst:1,clk_extra:'{"t":'+this.config.vvLog.type+"}",browser:this.browser,system:this.system};this.one("successPlay.vvlog",function(){o.send(i);var t=e.get("currentTime");e.on("timeupdate.vvlog",function(){e.get("currentTime")-t>=3&&(i.cst=2,o.send(i),e.off("timeupdate.vvlog"))
})})}},t.prototype.supportSendLog=function(){var t=this,e=!0;return["page","from"].forEach(function(o){t.config[o]||(e=!1)}),e},t.prototype.checkVvLogConfig=function(){return!!this.config.vvLog&&!!this.config.vvLog.type},t.prototype.checkSectionLogConfig=function(){return!!this.config.sectionLog},t.prototype.checkVideoOther=function(){"video_other"===this.config.page&&this.sendLog("videoOther")},t}()
;h(".bullet-container {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    z-index: 1001;\n    padding-top: 1px;\n}\n\n.ballistic {\n    height: 24px;\n}\n\n.ballistic .bullet {\n    font-size: 14px;\n    line-height: 24px;\n    color: #fff;\n    position: absolute;\n    left: 100%;\n    white-space: nowrap;\n    display: flex;\n    text-shadow: 0 0 black;\n}\n\n.ballistic .praise,\n.ballistic .praised {\n    display: flex;\n    margin-left: 5px;\n}\n\n.ballistic .praise img,\n.ballistic .praised img {\n    width: auto;\n    margin-top: 4px;\n}\n\n.ballistic .praise-num {\n    margin-left: 3px;\n    font-size: 14px;\n}\n\n.ballistic .praised .praise-num {\n    color: #ff4747;\n}\n\n.bullet-container .new-barrage {\n    height: 17px;\n    font-size: 14px;\n    line-height: 17px;\n    color: #fff;\n    position: absolute;\n    top: 10px;\n    display: flex;\n    white-space: nowrap;\n    left: 100%;\n}\n\n.bullet-container .new-barrage img {\n    margin-left: 3px;\n    width: auto;\n    float: right;\n}\n\n.bullet-container .send-barrage {\n    height: 27px;\n    border-radius: 15px;\n    background-color: rgba(255, 72, 128, 0.15);\n    border: 1px solid rgba(255, 72, 128, 0.40);\n    box-sizing: border-box;\n    font-size: 15px;\n    line-height: 27px;\n    padding: 0 8px;\n    color: #fff;\n    display: flex;\n    white-space: nowrap;\n    position: absolute;\n    top: 10px;\n    left: 100%;\n}\n\n.bullet-container .send-barrage img {\n    margin-left: 6px;\n    margin-right: 2px;\n    width: auto;\n    float: right;\n    margin-top: 5px;\n}\n",{
singleTag:!0,attributes:{"data-scp":"wise"}});var K=function(){function t(t,e){var o=this;this.bullets=[],this.loadedBullets=[],this.lastBullets=[],this.noBullets=!1,this.readyToGetData=!1,this.hasSendBarrageShowLog=!1,this.switch=!0,this.DROP_TIMEOUT=3,this.onTimeupdate=function(){var t=o.proxy.getAttr("currentTime");if(o.readyToGetData){o.readyToGetData=!1;var e=o.startTime>t?o.startTime:t;o.getData(+e.toFixed(0)),o.lastCurrentTime=t}else t-o.endTime>=-5&&o.getData(o.endTime)
;if(Math.abs(t-o.lastCurrentTime)>=o.DROP_TIMEOUT&&(o.loadedBullets=[]),o.lastCurrentTime=t,o.loadedBullets&&o.loadedBullets[0]&&o.loadedBullets[0].playat){var i=o.loadedBullets[0].playat-t;if(i>0)return;if(i<=-o.DROP_TIMEOUT)return o.loadedBullets.shift(),void o.onTimeupdate();var n=o.findBestBallistic();if(-1===n)return;o.barrageSwitch&&o.fire(o.loadedBullets.shift(),n)}},this.proxy=t,this.config=(null==e?void 0:e.config)||{},this.initBarrage()}return t.prototype.initBarrage=function(){
var t=this;this.getBoxxBarrageInfo().then(function(e){var o,i,n,r,s,a,l,d=e.canShowNewBarrageGuide,p=void 0===d?0:d,c=e.canShowSendBarrageGuide,h=void 0===c?0:c,u=e.barrageSwitch,m=void 0===u?0:u,g=t.config||{},f=g.ballistic,v=void 0===f?2:f,y=g.startTime,b=void 0===y?3:y;t.barrageInfo=null===(n=null===(i=null===(o=t.config.urlParams)||void 0===o?void 0:o.options)||void 0===i?void 0:i.videoExt)||void 0===n?void 0:n.barrageInfo,t.ballistic=+v,t.startTime=+b,t.canShowNewBarrageGuide=p,
t.canShowSendBarrageGuide=h;var C=sessionStorage.getItem("barrageSwitch");null!==C?t.barrageSwitch=+C:(t.barrageSwitch=+m,sessionStorage.setItem("barrageSwitch",m+"")),t.proxy.player.emit("barrageSwitchChanged",t.barrageSwitch),t.canShowNewBarrageGuide&&t.startTime++,t.canShowSendBarrageGuide&&t.startTime++
;var w=null===(l=null===(a=null===(s=null===(r=t.proxy)||void 0===r?void 0:r.player)||void 0===s?void 0:s.config)||void 0===a?void 0:a.videoConfig)||void 0===l?void 0:l.currentTime,x=w?t.startTime>w?t.startTime:w:t.startTime,D=t.getData(+x.toFixed(0));D&&D.then(function(){var e,o,i;t.bulletContainer=L.createDom("div","","bullet-container"),
"1"===(null===(i=null===(o=null===(e=window.page)||void 0===e?void 0:e.comm)||void 0===o?void 0:o.sampleval)||void 0===i?void 0:i.WISE_UI_DM_TC)&&(t.bulletContainer.style.opacity="0"),t.videoParent&&L.append(t.videoParent,t.bulletContainer),t.ballisticArr=[];for(var n=0;n<t.ballistic;n++){var r=L.createDom("div","","ballistic");L.append(t.bulletContainer,r),t.ballisticArr.push(r)}for(t.bullets=[],n=0;n<t.ballisticArr.length;n++)t.bullets.push([]);t.on("timeupdate.bullet",t.onTimeupdate),
t.on("seeked.bullet",function(){var e=t.proxy.getAttr("currentTime"),o=t.startTime>e?t.startTime:e;t.requestStartTime!==+o.toFixed(0)&&(t.loadedBullets=[]),t.getData(+o.toFixed(0)),t.switchFlyingBullets(!1)}),t.on("play.bullet",function(){t.readyToGetData=!0}),t.canShowSendBarrageGuide&&t.noBullets&&t.switch&&(t.sendBarrageTimeout=setTimeout(function(){t.barrageSwitch&&(t.showSendBarrage(),t.updateShowBulletFlag(6))},1e3*t.startTime)),
t.canShowNewBarrageGuide&&!t.noBullets&&(t.newBarrageTimeout=setTimeout(function(){t.barrageSwitch&&(t.showNewBarrage(),t.updateShowBulletFlag(5))},1e3*t.startTime))})})},t.prototype.getBoxxBarrageInfo=function(){return new Promise(function(t){C.default.canIUse("search.obtainOrUpdateSearchBarrageConfig")&&C.default.search.obtainOrUpdateSearchBarrageConfig({configType:1,success:function(e){t(e.data)}})})},t.prototype.getData=function(t){var e=this
;if(this.requestStartTime!==t)return this.requestStartTime=t,this.fetchData(t).then(function(t){return t.json()}).then(function(t){var o,i,n;e.loadedBullets=e.loadedBullets.concat((null===(o=null==t?void 0:t.data)||void 0===o?void 0:o.list)||[]),e.endTime=null===(i=null==t?void 0:t.data)||void 0===i?void 0:i.endTime,e.switch=!!(null===(n=null==t?void 0:t.data)||void 0===n?void 0:n.switch),0===e.loadedBullets.length&&(e.noBullets=!0)}).catch(function(){})},t.prototype.fetchData=function(t){
var e=location.origin+"/video/dmlist?",o=[];return o.push("playat="+t),o.push("barrageInfo="+encodeURIComponent(this.barrageInfo)),e+=o.join("&"),fetch(e,{method:"GET",mode:"cors"})},t.prototype.switchFlyingBullets=function(t,e){var o=this;void 0===t&&(t=!0),void 0===e&&(e="0"),this.bullets&&this.bullets.forEach(function(i){i&&i.forEach(function(i){i.hasAttribute("free")||o.switchOneBullet(i,t,e)})}),this.sendBarrage&&this.switchOneBullet(this.sendBarrage,t,e),
this.newBarrage&&this.switchOneBullet(this.newBarrage,t,e)},t.prototype.switchOneBullet=function(t,e,o){e||(t.style.transitionProperty="opacity, left"),t.style.opacity=o},t.prototype.updateShowBulletFlag=function(t){void 0===t&&(t=1),C.default.canIUse("search.obtainOrUpdateSearchBarrageConfig")&&C.default.search.obtainOrUpdateSearchBarrageConfig({configType:t})},t.prototype.appendPraiseDom=function(t,e){
e&&e.show_up&&(e.is_uped?L.append(t,this.getPraisedDom(e.up_count)):L.append(t,this.getPraiseDom(e.up_count)))},t.prototype.getPraiseDom=function(t){return L.createDom("div",'<img width="16px" height="16px" src="https://psstatic.cdn.bcebos.com/video/splayer/praise_1661508093000.png"/><span class="praise-num">'+t+"</span>","praise")},t.prototype.getPraisedDom=function(t){
return L.createDom("div",'<img width="16px" height="16px" src="https://psstatic.cdn.bcebos.com/video/splayer/praised_1661508101000.png"/><span class="praise-num">'+t+"</span>","praised")},t.prototype.showNewBarrage=function(){var t=L.createDom("div",'<span>弹幕大军即将到来</span><img width="17px" height="17px" src="https://psstatic.cdn.bcebos.com/video/splayer/firework_1661845119000.png"/>',"new-barrage");L.append(this.bulletContainer,t),this.newBarrage=t,this.fireDom(t,132)},
t.prototype.showSendBarrage=function(){var t=this,e=L.createDom("div",'<span>发表弹幕，有机会展示在这里哦～</span><img width="17px" height="17px" src="https://psstatic.cdn.bcebos.com/video/splayer/heart_1661845127000.png"/>',"send-barrage");e.setAttribute("rl-type","stop"),e.addEventListener("click",function(e){if(e.stopPropagation(),e.preventDefault(),t.config.urlParams&&t.config.urlParams.url){var o=encodeURIComponent('},"ext":{')
;location.href=t.config.urlParams.tcUrl.replace(o,o+encodeURIComponent('"barrage":1,'))}}),L.append(this.bulletContainer,e),this.sendBarrage=e,this.fireDom(e,270)},t.prototype.fireDom=function(t,e,o){void 0===o&&(o=90);var i=this.ballisticArr[0],n=(((i&&i.clientWidth||372)+e)/o).toFixed(2);t.style.transition="left "+n+"s linear",t.style.left="-"+e+"px"},Object.defineProperty(t.prototype,"videoParent",{get:function(){return this.proxy.player.videoParent},enumerable:!1,configurable:!0}),
t.prototype.clickSwitch=function(){this.barrageSwitch=1^this.barrageSwitch,this.proxy.player.emit("barrageSwitchChanged",this.barrageSwitch),sessionStorage.setItem("barrageSwitch",this.barrageSwitch+""),this.barrageSwitch?this.switchFlyingBullets(!1,"1"):this.switchFlyingBullets(!0)},t.prototype.on=function(t,e){this.proxy.off(t).on(t,e)},t.prototype.off=function(t){this.proxy.off(t)},t.prototype.transitionEndCb=function(){this.setAttribute("free","1")},t.prototype.fire=function(t,e){
var o=this,i=t.content&&t.content.replace(/\[.+\]/g,"").replace(/\n/g,"");if(i){i=i.length>15?i.substr(0,15)+"...":i;var n=this.ballisticArr[e];if(n){var r,s=this.findFreeDom(e);-1!==s?(this.modifyDom(s,i,t.up_info),r=s):(r=L.createDom("div",i,"bullet"),this.appendPraiseDom(r,t.up_info),L.append(n,r),this.bullets[e].push(r)),r.addEventListener("transitionend",this.transitionEndCb),setTimeout(function(){var t=r.clientWidth,i=n.clientWidth;r.style.left=i+"px"
;var s=o.getFlySpeed(e),a=((i+t)/s).toFixed(2);r.style.transition="left "+a+"s linear",o.lastBullets[e]={width:t,now:Date.now(),speed:s},setTimeout(function(){r.style.left=-t+"px"},0)},0),this.hasSendBarrageShowLog||(this.hasSendBarrageShowLog=!0,this.sendBarrageShowLog())}}},t.prototype.findBestBallistic=function(){if(0===this.lastBullets.length)for(var t=this.ballistic;t--;)this.lastBullets.push(null);for(t=0;t<this.lastBullets.length;t++){var e=this.lastBullets[t];if(!e)return t
;if((Date.now()-e.now)/1e3*e.speed-e.width>=60)return t}return-1},t.prototype.getFlySpeed=function(t){return t%2==0?80:90},t.prototype.findFreeDom=function(t){var e=this.bullets[t];if(!e||!e.length)return-1;for(var o=0;o<e.length;o++){var i=e[o];if(i&&1==+i.getAttribute("free"))return i}return-1},t.prototype.modifyDom=function(t,e,o){t.removeAttribute("free"),t.innerText=e,t.style.transition="none",t.style.left="",t.style.transitionProperty="",t.style.opacity="",this.appendPraiseDom(t,o)},
t.prototype.destroy=function(){var t=this;this.off("timeupdate.bullet"),this.off("seeked.bullet"),this.off("play.bullet"),clearTimeout(this.sendBarrageTimeout),clearTimeout(this.newBarrageTimeout),this.bullets&&this.bullets.forEach(function(e){e&&e.forEach(function(e){e.removeEventListener("transitionend",t.transitionEndCb)})})},t.prototype.reset=function(){this.destroy(),L.removeDom(this.bulletContainer),this.bulletContainer=void 0,this.sendBarrage=void 0,this.newBarrage=void 0,
this.canShowNewBarrageGuide=void 0,this.canShowSendBarrageGuide=void 0,this.barrageSwitch=void 0,this.ballistic=void 0,this.startTime=void 0,this.ballisticArr=void 0,this.bullets=[],this.loadedBullets=[],this.lastCurrentTime=void 0,this.requestStartTime=void 0,this.endTime=void 0,this.lastBullets=[],this.noBullets=!1,this.readyToGetData=!1,this.hasSendBarrageShowLog=!1,this.switch=!0,this.barrageInfo=void 0,this.initBarrage()},t.prototype.sendBarrageShowLog=function(){
var t,e,o,i,n=null===(t=window.page)||void 0===t?void 0:t.log;if("function"==typeof(null==n?void 0:n.send)){var r=this.proxy.player.config.videoConfig;n.send({ct:88,cst:59,clk_extra:JSON.stringify({t:1,nid:r.vid||"",real:"1"===(null===(i=null===(o=null===(e=window.page)||void 0===e?void 0:e.comm)||void 0===o?void 0:o.sampleval)||void 0===i?void 0:i.WISE_UI_DM_TC)?"0":"1"})})}},t}(),tt=Y()
;h(".poster-mask {\n    transition: opacity 240ms ease;\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n    z-index: 5;\n    /* Image组件内固定img圆角0.09rem, 此处设置为0，圆角大小由外层盒子决定 */\n    border-radius: 0 !important;\n}\n\n.poster-mask-disappear {\n    opacity: 0;\n    pointer-events: none;\n}\n",{singleTag:!0,attributes:{"data-scp":"wise"}});var et=function(t){function e(e,o){var i=t.call(this)||this;return i.wrongConfig=!1,i.startTime=Date.now(),
i.pluginContainer=[],L.isDom(null==e?void 0:e.container)&&(null==e?void 0:e.src)?(i.config={videoConfig:{}},i.filterVideoOptions(e),i.filterPlayerOptions(o),i.checkSrc()||(i.wrongConfig=!0),i):(i.wrongConfig=!0,i)}return l(e,t),e.prototype.addVideoSizeStyle=function(){var t,e=this,o=null===(t=this.config.videoConfig)||void 0===t?void 0:t.videoSize;if(o){var i={width:"100%",height:"100%"},n=o.width,r=o.height;i.width=n+"%",i.height=r+"%",i=P(P({},i),100===n?{top:"50%",transform:"translateY(-50%)"
}:{left:"50%",transform:"translateX(-50%)"}),Object.keys(i).forEach(function(t){return e.videoParent.style[t]=i[t]})}},e.prototype.initFadePoster=function(t){var e,o=this;void 0===t&&(t=!1);var i=null===(e=this.config.videoConfig)||void 0===e?void 0:e.poster;i&&this.videoParent&&(this.posterMask=document.createElement("img"),L.addClass(this.posterMask,"poster-mask"),this.posterMask.setAttribute("src",i),L.append(this.videoParent,this.posterMask),
this.posterMask.style.objectFit=this.config.extra&&this.config.extra.objectFit||"cover",t||this.on("successPlay.base",function(){L.addClass(o.posterMask,"poster-mask-disappear")}))},e.prototype.filterVideoOptions=function(t){var e=this;this.root=t.container||this.root;var o=V.concat(A).concat(I);Object.keys(t).forEach(function(i){L.inArray(i,o)&&(e.config.videoConfig[i]=t[i]),"nid"===i&&(e.config.videoConfig.vid=t[i])}),y.default.isUC()&&(this.config.videoConfig.controls=!0),
this.type===B&&(t.mpd||(this.config.videoConfig.mpd=""),t.clarityUrl||(this.config.videoConfig.clarityUrl=""))},e.prototype.filterPlayerOptions=function(t){var e,o=this;this.plugins=[],(null===(e=t.plugins)||void 0===e?void 0:e.length)>0&&t.plugins.forEach(function(t){if("string"==typeof t){if(o.config.videoConfig.controls&&t===j){if(!f()&&o.type===k)return;o.config.videoConfig.controls=y.default.isUC()}o.plugins.push({name:t})}else if("object"==typeof t){
if(o.config.videoConfig.controls&&t.name===j){if(!f()&&o.type===k)return;o.config.videoConfig.controls=y.default.isUC()}o.plugins.push(t)}}),this.config.extra=t.extra},e.prototype.getLogConfig=function(){var t,e={};return(null===(t=this.plugins)||void 0===t?void 0:t.length)&&this.plugins.forEach(function(t){t.name===F&&(e=t.config)}),e},e.prototype.sendLog=function(){var t=this.config.videoConfig.vid,e=this.config.videoConfig.src;if(!/vdgif.bdstatic.com/.test(e)){
var o,i=this.getLogConfig(),n=i.from,r=i.page,s=i.value;o={videoSrc:e,from:n,page:r,value:s},tt.send("count_comm",{count:1,videoSrc:o.videoSrc,pageUrl:location.href},P({},v(o)),null,{group:"playerAcess"}),t&&(/^(sv_)[0-9]*$/.test(t)||/^[0-9]*$/.test(t))||function(t){tt.send("et_comm",{msg:t.vid||"unknown",videoSrc:t.videoSrc,pageUrl:location.href},P({},v(t)),null,{group:"wrongVid"})}({videoSrc:e,from:n,page:r,value:s,vid:t})}},e.prototype.checkSrc=function(){
var t,e=this.config.videoConfig.src,o=this.getLogConfig(),i=o.from,n=o.page,r=o.value;return!/.html$/.test(e.split("?")[0])&&!/bilibili.com\/video\//.test(e)||(t={videoSrc:e,from:i,page:n,value:r},tt.send("et_comm",{msg:t.videoSrc||"unknown",pageUrl:location.href},P({},v(t)),null,{group:"wrongSrc"}),!1)},e.prototype.setAttr=function(t,e){this.video&&(this.video[t]=e)},e.prototype.handlePlugin=function(t,e,o){if(t){var i=new H(this);this.pluginContainer=this.pluginContainer||[],
this.pluginContainer.push({name:e,plugin:new t(i,o)})}},e.prototype.resetPlugin=function(t){var e;(null===(e=this.pluginContainer)||void 0===e?void 0:e.length)>0&&this.pluginContainer.forEach(function(e){if("function"==typeof e.plugin.reset){var o=null;if(t&&t.length)for(var i=t.length,n=0;n<i;n++)if(t[n].name===e.name){o=t[n],e.name===F&&o.config&&(o.config.startTime=Date.now());break}e.plugin.reset(o)}})},e.prototype.destroyPlugin=function(){var t
;(null===(t=this.pluginContainer)||void 0===t?void 0:t.length)>0&&this.pluginContainer.forEach(function(t){"function"==typeof t.plugin.destroy&&t.plugin.destroy()})},e.prototype.pluginsCall=function(){var t,e=this;(null===(t=this.plugins)||void 0===t?void 0:t.length)>0&&this.plugins.forEach(function(t){switch(t.name){case j:e.handlePlugin($,j,t);break;case F:t.config&&(t.config.startTime=e.startTime),e.handlePlugin(Q,F,t);break;case N:e.handlePlugin(K,N,t)}})},
e.prototype.emitEventToPlugin=function(t,e){this.pluginContainer&&this.pluginContainer.length>0&&this.pluginContainer.forEach(function(o){o.plugin.proxy.emit(t,e)})},e.prototype.emitEvent=function(t,e,o){this.emit(t,o),e&&this.emitEventToPlugin(t,o)},Object.defineProperty(e.prototype,"src",{get:function(){var t;return null===(t=this.video)||void 0===t?void 0:t.src},set:function(t){this.setAttr("src",t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"poster",{get:function(){
var t;return null===(t=this.video)||void 0===t?void 0:t.poster},set:function(t){this.setAttr("poster",t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoplay",{get:function(){var t;return null===(t=this.video)||void 0===t?void 0:t.autoplay},set:function(t){this.setAttr("autoplay",t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"buffered",{get:function(){var t;return null===(t=this.video)||void 0===t?void 0:t.buffered},enumerable:!1,configurable:!0}),
Object.defineProperty(e.prototype,"crossOrigin",{get:function(){var t;return null===(t=this.video)||void 0===t?void 0:t.crossOrigin},set:function(t){this.setAttr("crossOrigin",t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentSrc",{get:function(){var t;return null===(t=this.video)||void 0===t?void 0:t.currentSrc},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentTime",{get:function(){var t
;return null===(t=this.video)||void 0===t?void 0:t.currentTime},set:function(t){this.setAttr("currentTime",t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultMuted",{get:function(){var t;return null===(t=this.video)||void 0===t?void 0:t.defaultMuted},set:function(t){this.setAttr("defaultMuted",t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){var t;return null===(t=this.video)||void 0===t?void 0:t.duration},enumerable:!1,
configurable:!0}),Object.defineProperty(e.prototype,"ended",{get:function(){var t;return null===(t=this.video)||void 0===t?void 0:t.ended},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"error",{get:function(){var t;return null===(t=this.video)||void 0===t?void 0:t.error},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loop",{get:function(){var t;return null===(t=this.video)||void 0===t?void 0:t.loop},set:function(t){this.setAttr("loop",t)},enumerable:!1,
configurable:!0}),Object.defineProperty(e.prototype,"muted",{get:function(){var t;return null===(t=this.video)||void 0===t?void 0:t.muted},set:function(t){var e="object"==typeof t?t.muted:t,o=this.muted;this.setAttr("muted",e),this.type===B&&e!==o&&this.emitEvent("volumechange",!0,!1===e?1:0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"paused",{get:function(){var t;return null===(t=this.video)||void 0===t?void 0:t.paused},set:function(t){this.setAttr("paused",t)},
enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playbackRate",{get:function(){var t;return null===(t=this.video)||void 0===t?void 0:t.playbackRate},set:function(t){this.setAttr("playbackRate",t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"played",{get:function(){var t;return null===(t=this.video)||void 0===t?void 0:t.played},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"preload",{get:function(){return this.video.preload},
set:function(t){this.setAttr("preload",t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"seekable",{get:function(){var t;return null===(t=this.video)||void 0===t?void 0:t.seekable},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"seeking",{get:function(){var t;return null===(t=this.video)||void 0===t?void 0:t.seeking},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"volume",{get:function(){var t
;return null===(t=this.video)||void 0===t?void 0:t.volume},set:function(t){this.setAttr("volume",t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"controls",{get:function(){var t;return null===(t=this.video)||void 0===t?void 0:t.controls},set:function(t){this.setAttr("controls",t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"readyState",{get:function(){var t;return null===(t=this.video)||void 0===t?void 0:t.readyState},enumerable:!1,configurable:!0}),
Object.defineProperty(e.prototype,"networkState",{get:function(){var t;return null===(t=this.video)||void 0===t?void 0:t.networkState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"prerender",{get:function(){var t;return null===(t=this.video)||void 0===t?void 0:t.prerender},enumerable:!1,configurable:!0}),e.prototype.play=function(){if(this.video&&"function"==typeof this.video.play)try{return this.playerPromise=this.video.play(),this.playerPromise}catch(t){}},
e.prototype.pause=function(){var t,e=this;this.video&&"function"==typeof this.video.pause&&(this.playerPromise?this.playerPromise.then(function(){e.video.pause()}).catch(function(){e.video.pause()}):null===(t=this.video)||void 0===t||t.pause())},e.prototype.load=function(){this.video&&"function"==typeof this.video.load&&this.video.load()},e.prototype.setRate=function(t){var e;(null===(e=this.video)||void 0===e?void 0:e.playbackRate)&&t&&(this.video.playbackRate=t)},
e.prototype.requestFullscreen=function(){var t;if(this.type!==B||!y.default.isIOS()){var e=this.root
;e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():this.video.webkitSupportsFullscreen?this.video.webkitEnterFullscreen():(null===(t=this.video.video)||void 0===t?void 0:t.webkitSupportsFullscreen)?this.video.video.webkitEnterFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():L.addClass(e,"fullscreen-active")}},e.prototype.exitFullscreen=function(){if(this.type!==B||!y.default.isIOS()){
var t=document;document.exitFullscreen?t.exitFullscreen():t.webkitExitFullscreen?t.webkitExitFullscreen():t.mozCancelFullScreen?t.mozCancelFullScreen():t.msExitFullscreen?t.msExitFullscreen():L.removeClass(this.root,"fullscreen-active")}},e.prototype.enterSuspense=function(){var t;"function"==typeof(null===(t=this.video)||void 0===t?void 0:t.requestPictureInPicture)&&this.video.requestPictureInPicture()},e.prototype.setAttribute=function(t,e){var o
;this.type===k&&(this.video.setAttribute&&this.video.setAttribute(t,e),(null===(o=this.video.video)||void 0===o?void 0:o.setAttribute)&&this.video.video.setAttribute(t,e))},e.prototype.removeAttribute=function(t){var e;this.type===k&&(this.video.removeAttribute&&this.video.removeAttribute(t),(null===(e=this.video.video)||void 0===e?void 0:e.removeAttribute)&&this.video.video.removeAttribute(t))},e}(T)
;h("/**\n * @file native-player css\n */\n\n.splayer-video {\n    width: 100%;\n    height: 100%;\n    background-color: transparent;\n}\n\n.splayer-parent {\n    position: absolute;\n    top: 0;\n    right: 0;\n    left: 0;\n    height: 100%;\n    z-index: 0;\n}\n",{singleTag:!0,attributes:{"data-scp":"wise"}});var ot=function(t){function e(e,o){var i=t.call(this,e,o)||this;return i.notsetAttrs=["muted","autoplay","controls","currentTime","volume","playbackRate","loop","poster","seekseconds"],
i.wrongConfig||(i.type="NATIVE_PLAYER",i.initVideo()),i}return l(e,t),e.prototype.initVideo=function(){this.root&&this.config.videoConfig.src&&(this.video||(this.createVideo(),this._setAttribute(),this.proxyEvent(),this.pluginsCall(),this.emitEvent("ready",!0),this.attachVideo(),this.emitEventToPlugin("loadedplayer"),this.checkVolumeChanged(),this.sendLog()))},e.prototype.createVideo=function(){this.videoParent=document.createElement("div"),this.addVideoSizeStyle(),
this.video=document.createElement("video"),L.addClass(this.videoParent,"splayer-parent"),L.addClass(this.video,"splayer-video");var t=this.config.extra&&this.config.extra.objectFit||"cover";this.video.style.objectFit=t,this.videoParent.appendChild(this.video);var e="cover"===t&&(y.default.isIOS()||y.default.isAndroid()&&y.default.isBaiduBox());this.initFadePoster(e),e&&this.fixIosObjectFit()},e.prototype.fixIosObjectFit=function(){this.video.style.opacity="0",
this.video.addEventListener("timeupdate",function o(){++t>=2&&(L.addClass(e.posterMask,"poster-mask-disappear"),this.style.opacity="1",this.removeEventListener("timeupdate",o))});var t=0,e=this},e.prototype._setAttribute=function(){var t,e,o,i,n,r,s=this;if(this.video){Object.keys(this.config.videoConfig).forEach(function(t){var e=s.config.videoConfig[t];if(s.notsetAttrs.indexOf(t)>-1)try{if(y.default.isUC())return;s.video[t]=e}catch(t){}else switch(s.video.setAttribute(t,e),t){
case"playsinline":s.video.setAttribute("webkit-playsinline",e),s.video.setAttribute("x-webkit-airplay",e)}}),m()?this.video.setAttribute("t7-video-player-type",(null===(t=this.config.videoConfig)||void 0===t?void 0:t.t7PlayerType)||"search"):this.video.setAttribute("t7-video-player-type","inline"),!0===this.config.videoConfig.autoplay&&/HuaweiMT7-TL00/.test(navigator.userAgent)&&this.video.setAttribute("autoplay","auto")
;var a=b.default(y.default.baiduBoxVersion(),"12.23")>=0&&"1"===(null===(i=null===(o=null===(e=window.page)||void 0===e?void 0:e.comm)||void 0===o?void 0:o.degrade)||void 0===i?void 0:i.video_schema_optimize_switch)?null===(n=this.config.videoConfig)||void 0===n?void 0:n.vid:null===(r=this.config.videoConfig)||void 0===r?void 0:r.pageUrl;a&&this.video.setAttribute("t7-video-player-ext",a)}},e.prototype.attachVideo=function(){this.root.appendChild(this.videoParent),
this.config.videoConfig.autoplay&&!g()&&this.play()},e.prototype.proxyEvent=function(){var t=this;E.forEach(function(e){t.video.addEventListener(e,function(o){"playing"!==e||t.successPlay||(t.successPlay=!0,t.emitEvent("successPlay",!0)),t.emitEvent(e,!0,o)},!1)})},e.prototype.destroy=function(){this.emitEvent("destroy",!0),this.destroyPlugin(),L.removeDom(this.videoParent),this.video.src="",this.video=null,this.videoParent=null,this.pluginContainer=null,this.plugins=null,this.listeners={},
this.successPlay=!1},e.prototype.resetVideo=function(t,e){this.emit("reset"),(null==e?void 0:e.plugins)&&e.plugins.findIndex(function(t){return"control"===t.name})>-1&&(t.controls=!1),this.filterVideoOptions(t),t.container&&L.isDom(t.container)&&t.container!==this.root||!this.video?(this.destroy(),this.filterPlayerOptions(e),this.initVideo()):(this.config.videoConfig.muted=null==this?void 0:this.video.muted,this.successPlay=!1,this._setAttribute(),this.resetPlugin(null==e?void 0:e.plugins),
this.emitEventToPlugin("loadedplayer"),this.sendLog())},e.prototype.checkVolumeChanged=function(){var t=this;if(m()&&b.default(y.default.baiduBoxVersion(),"11.27")>=0){var e=x.default.DatachannelAction.create("com.baidu.videoplayer.volumechanged"),o="volumechanged"+Date.now();e.register({jscallback:"window."+o,allowDuplicate:!0},function(t,e){e=JSON.parse(e),x.default.events.trigger("volumechanged",e)}),x.default.events.on("volumechanged",function(e){var o=parseInt(e.data.volume,10)
;o>0?(t.muted=!1,t.emitEvent("volumechange",!0,{volume:o,muted:!1})):(t.muted=!0,t.emitEvent("volumechange",!0,{volume:o,muted:!0}))})}},e}(et),it=function(t){function e(e,o){var i,n,r=t.call(this,e,o)||this;return r.resetButNoProxyEvent=!1,r.latesMuted=!0,r.initLog={openToReady:0,readyToPlay:0},r.initVideoInsTmp=0,r.sample={},r.wrongConfig||(r.type=B,r.initVideoInsTmp=e.initPlayer||0,r.sample=(null===(n=null===(i=window.page)||void 0===i?void 0:i.comm)||void 0===n?void 0:n.sampleval)||{},
r.initVideo()),r}return l(e,t),e.prototype.initVideo=function(){var t=this;this.root&&this.config.videoConfig.src&&(this.video||(this.createVideoParent(),setTimeout(function(){t.videoParent&&t.openSameLayer()},0),this.sendLog()))},e.prototype.createVideoParent=function(){this.videoParent=this.root.querySelector(".splayer-parent"),this.videoParent||(this.videoParent=document.createElement("div"),L.addClass(this.videoParent,"splayer-parent"),this.initFadePoster(),
L.append(this.root,this.videoParent)),this.addVideoSizeStyle(),this.videoParent.id="samelayer-container-"+Date.now().toString(32)},e.prototype.noticeBoxPerfLog=function(){var t,e,o=((null===(t=this.config.extra)||void 0===t?void 0:t.perfInfo)||{}).page;if(o&&o.length>0&&C.default.canIUse("search.noticeVideoPerformanceStatistic")){var i=(null===(e=this.config.extra)||void 0===e?void 0:e.network)||"unknown",n=(this.plugins.find(function(t){return"videoLogMaker"===t.name
})||{}).config||{},r=n.from,s=void 0===r?"search":r,a=n.page,l=void 0===a?"video_a":a,d=n.value,p=void 0===d?"":d,c=+new Date,h={initPlayer:this.initVideoInsTmp,invokePlayer:c};window.page&&window.page.prerenderConfirm&&(h.prerenderConfirmPlayer=window.page.prerenderConfirm);try{if(y.default.isAndroid()&&b.default(y.default.baiduBoxVersion(),"13.21")<0)return;C.default.search.noticeVideoPerformanceStatistic({ubcId:"5769",dim:{from:s,page:l,type:"fp_perf_new",value:p},ext:{
network:i.toLowerCase(),os:y.default.isAndroid()?"android":y.default.isIOS()?"ios":"other",scene:"player",preInvoke:window.prepareVideoStatus||0},info:h})}catch(t){}}},e.prototype.openSameLayer=function(){var t=this,e=this.getSameLayerOptions();this.noticeBoxPerfLog(),this.video=new D.default(e),!this.resetButNoProxyEvent&&this.proxyEvent(),this.openLayerTime=Date.now(),this.video.on("ready",function(e){t.initLog.openToReady=Date.now()-t.openLayerTime,e&&"h5"===e.mode&&(t.type=k),
!t.resetButNoProxyEvent&&t.pluginsCall(),t.emitEventToPlugin("loadedplayer"),e&&"na"!==e.mode&&(t.muted={muted:t.latesMuted})}),this.video.on("play",function(){var e;t.initLog.readyToPlay=Date.now()-t.openLayerTime-t.initLog.openToReady||0,e=t.initLog,tt.send("pf_comm",P({},e),P({},v(e)),null,{group:"initSameLayer"})}),this.video.create(12,this.type===k),this.video.on("perf",function(e){var o=P(P({},e),{type:"perf"});t.emitEventToPlugin("sendslrLog",o)})},
e.prototype.getSameLayerOptions=function(){var t,e,o,i,n,r,s,a,l,d=this,p=V.concat(A).concat(I),c={};p.forEach(function(t){var e;if(d.config.videoConfig.hasOwnProperty(t))c[t]=d.config.videoConfig[t],"currentTime"===t&&(c.seekSeconds=d.config.videoConfig[t]);else switch(t){case"videoGravity":c.videoGravity=2;break;case"needReadLocalProgress":c.needReadLocalProgress=!0;break;case"currentTime":d.config.videoConfig.hasOwnProperty("needReadLocalProgress")||(c.seekSeconds=0);break;case"timeInterval":
c.timeInterval=.3;break;case"isPlayerCanEnterEndPage":c.isPlayerCanEnterEndPage=0;break;case"playerControlType":if(null===(e=d.plugins)||void 0===e?void 0:e.length)for(var o=0;o<d.plugins.length;o++)if(d.plugins[o].name===j&&y.default.isIOS()&&d.plugins[o].type!==M){c.playerControlType=2;break}break;case"ignore4gToast":c.ignore4gToast=!0}});var h=this.getLogConfig();return c.from=h.from,c.page=h.page,c.value=h.value,c.accurate=!0,c.ext={nid:this.config.videoConfig.vid,
duration:this.config.videoConfig.duration,lid:null===(t=h.tplInfo)||void 0===t?void 0:t.lid,order:null===(e=h.tplInfo)||void 0===e?void 0:e.order,is_heji:~~(null===(o=h.ext)||void 0===o?void 0:o.is_heji),continuation:(null===(i=this.config.extra)||void 0===i?void 0:i.lastTime)>0?1:0,show_ratio:null===(n=this.config.extra)||void 0===n?void 0:n.showRatio,clk_info:{srcid:null===(r=h.tplInfo)||void 0===r?void 0:r.srcid,tplname:null===(s=h.tplInfo)||void 0===s?void 0:s.tplname},extra:P({loc:h.loc,
subpos:~~(null===(a=h.ext)||void 0===a?void 0:a.subpos)},h.extra)},h.ext&&h.ext.hasOwnProperty("pn")&&(c.ext.extra.pn=~~(null===(l=h.ext)||void 0===l?void 0:l.pn)),c.id=this.videoParent.id,c.prepareInvokePlayerTime=+new Date,this.config.videoConfig.useAutoVolume&&(this.latesMuted=c.muted,delete c.muted),c.pluginOptions={create:{queryTime:15,pageHideWithOutPause:!0}},c},e.prototype.proxyEvent=function(){var t=this;R.forEach(function(e){t.bindSameLayerEvent(e)}),
"1"===this.sample.VIDEO_A2C_TRANSITION&&L.pageEvent.onPageShow(this.onPageShowCb.bind(this))},e.prototype.onPageShowCb=function(){this.paused||(this.emit("playing"),this.emitEventToPlugin("playing"))},e.prototype.bindSameLayerEvent=function(t){var e=this;this.video.on(t,function(o){if("playing"!==t||e.successPlay||(e.successPlay=!0,e.emit("successPlay"),e.emitEventToPlugin("successPlay")),"volumechange"===t)return e.emit(t,{volume:o}),void e.emitEventToPlugin(t,o);e.emit(t,o),
e.emitEventToPlugin(t,o)})},e.prototype.resetVideo=function(t,e){this.emit("reset"),(null==e?void 0:e.plugins)&&e.plugins.findIndex(function(t){return"control"===t.name})>-1&&(t.controls=!1),this.filterVideoOptions(t),t.container&&L.isDom(t.container)&&t.container!==this.root||!this.video?(this.destroy(),this.filterPlayerOptions(e),e.type===k?this.type=k:this.type=B,this.config.videoConfig.useAutoVolume&&(this.latesMuted=this.config.videoConfig.muted,delete this.config.videoConfig.muted),
this.initVideo()):(this.config.videoConfig.muted=null==this?void 0:this.video.muted,this.successPlay=!1,this.resetButNoProxyEvent=!0,this.config.videoConfig.useAutoVolume&&(this.latesMuted=this.config.videoConfig.muted,delete this.config.videoConfig.muted),this.filterPlayerOptions(e),this.video.reset(this.getSameLayerOptions()),this.resetPlugin(e.plugins),this.emitEventToPlugin("loadedplayer"),this.sendLog())},e.prototype.destroy=function(){var t;this.emit("destroy"),this.destroyPlugin(),
L.removeDom(this.videoParent),"1"===this.sample.VIDEO_A2C_TRANSITION&&L.pageEvent.cancelCB("pageShow",this.onPageShowCb);try{null===(t=this.video)||void 0===t||t.destroy()}catch(t){}this.video=null,this.videoParent=null,this.pluginContainer=null,this.plugins=null,this.listeners={},this.successPlay=!1,this.resetButNoProxyEvent=!1},e}(et)
;h("/**\n * @file native-player css\n */\n\n.splayer-video {\n    width: 100%;\n    height: 100%;\n    background-color: transparent;\n}\n\n.splayer-parent {\n    position: absolute;\n    top: 0;\n    right: 0;\n    left: 0;\n    height: 100%;\n    z-index: 0;\n}\n",{singleTag:!0,attributes:{"data-scp":"wise"}});var nt=function(t){function e(e,o){var i=t.call(this,e,o)||this;return i.wrongConfig||(i.type="DECODER_PLAYER",i.initVideo()),i}return l(e,t),e.prototype.initVideo=function(){
this.getVideoParent(),this.video=new s.Player({url:this.config.videoConfig.src,el:this.videoParent,mode:this.config.extra&&this.config.extra.objectFit||"cover",resize:this.config.extra&&this.config.extra.resize,muted:this.config.videoConfig.muted,loop:this.config.videoConfig.loop||!1,logConfig:P({},this.getLogConfig())}),this.proxyEvent();try{this.pluginsCall()}catch(t){}this.emitEvent("loadedplayer",!0),this.config.videoConfig.autoplay&&this.video.play(),this.sendLog()},
e.prototype.proxyEvent=function(){var t=this;E.forEach(function(e){t.video.on(e,function(o){"volumechange"!==e?(t.emitEvent(e,!0,o),"playing"!==e||t.successPlay||(t.successPlay=!0,t.emitEvent("successPlay",!0))):t.emitEvent(e,!0,{volume:t.muted?0:1})})})},e.prototype.getVideoParent=function(){this.videoParent=document.createElement("div"),this.addVideoSizeStyle(),L.addClass(this.videoParent,"splayer-parent"),this.initFadePoster(),this.root.appendChild(this.videoParent)},
e.prototype.resetVideo=function(t,e){this.emit("reset"),this.filterVideoOptions(t),t.container&&L.isDom(t.container)&&t.container!==this.root||!this.video?(this.destroy(),this.filterPlayerOptions(e),this.initVideo()):(this.successPlay=!1,this.resetPlugin(null==e?void 0:e.plugins),this.config.videoConfig.muted=null==this?void 0:this.video.muted,this.src=this.config.videoConfig.src,this.muted=this.config.videoConfig.muted,this.emitEventToPlugin("loadedplayer"),this.sendLog())},
e.prototype.destroy=function(){var t;this.emitEvent("destroy",!0),this.destroyPlugin(),null===(t=this.video)||void 0===t||t.destroy(),L.removeDom(this.videoParent),this.video=null,this.videoParent=null,this.pluginContainer=null,this.plugins=null,this.listeners={},this.successPlay=!1},e}(et);return function(t,e){var o=e.type,i=!!e.decoderSwitch;switch(o){case B:return u()?new it(t,e):!g()&&i&&s.support()?new nt(t,e):new ot(t,e);case _:return s.support()?new nt(t,e):new ot(t,e);default:
return!g()&&i&&s.support()?new nt(t,e):new ot(t,e)}}}),define("@baidu/splayer",["@baidu/splayer/dist/player-amd"],function(t){return t});